webpackJsonp([83,17,105,220],{"+XcA":function(e,t,n){"use strict";var o=n("d6ZO"),b=n.n(o),m=n("CogI"),r=n("l6Jx"),i=n("W/Cr"),a=n("IaRT"),s=n.n(a),c=n("XzpH"),l=n("vQM4"),y=n("gEaE");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){k(t,e,n[e])})}return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function _(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?E(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={input:{backgroundColor:"#fff",border:"solid 1px #ccc",WebkitBoxShadow:"none",boxShadow:"none",position:"relative",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",borderRadius:"3px",fontWeight:"bold",padding:"10px",WebkitBoxSizing:"border-box",boxSizing:"border-box",width:"100%",color:"#333",fontSize:"14px"},fieldset:{position:"relative"},errorIcon:{position:"absolute",right:"14px",top:"14px"},tooltipText:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"},suggestedEmailSpan:{whiteSpace:"nowrap"},suggestedEmailLink:{display:"inline-block",font:"inherit",fontWeight:"bold",fontSize:"14",color:"#fff",cursor:"pointer",textDecoration:"underline",verticalAlign:"top",outline:"none",outlineOffset:"0"},fieldTitle:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",color:"#333",float:"left",fontFamily:l.b,fontSize:"16px",fontStyle:"normal",fontWeight:"bold",margin:"15px 0px 5px 3px"},suggestedEmailTooltip:{width:"match-content"}},S=function(e){function n(e,t){var h;return d(this,n),k(E(E(h=_(this,w(n).call(this,e,t)))),"handleDomainErrorDismiss",function(){h.setState({shouldTooltipOpen:!1})}),k(E(E(h)),"renderErrorIcon",function(e){if(e)return b.a.createElement("div",{className:"InputField__errorIcon",style:O.errorIcon},b.a.createElement(y.n,{accessibilityLabel:i.a._("Remove","Accessible label for error icon"),color:"red",icon:"remove",inline:!0,size:14}))}),k(E(E(h)),"renderTooltip",function(e,t){if(e&&t)return h.props.useGestaltTooltip?b.a.createElement(r.a,{anchor:h._input,message:e}):b.a.createElement(c.a,{message:e})}),k(E(E(h)),"renderGestaltInputField",function(){var e=h.props,t=e.disabled,n=e.domainError,o=e.id,r=e.inputRef,i=e.name,a=e.onBlur,s=e.onChange,c=e.onFocus,l=e.placeholder,u=e.type,p=e.updateEmail,d=e.useExperimentalTextfield,f=e.value,g=h.props.hasError||h.props.tooltip?h.props.tooltip:"";return d?b.a.createElement(m.a,{disabled:t,error:n||g,id:o,name:i,onBlur:a,onChange:function e(t){var n=t.event,o=t.value;s(n)},onFocus:c,placeholder:l,ref:function e(t){h._gestaltInput=t,r&&r(t)},type:u,onLabelTouch:p,value:f}):b.a.createElement(y.M,{disabled:t,errorMessage:g,id:o,name:i,onBlur:a,onChange:function e(t){var n=t.event,o=t.value;s(n)},onFocus:c,placeholder:l,ref:function e(t){h._gestaltInput=t,r&&r(t)},type:u,updateEmail:p,value:f})}),h.state={initialFocus:h.props.focused||!1,gainFocus:!1},h}return h(n,e),g(n,[{key:"componentDidMount",value:function e(){this.state.initialFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=this.props,o=n.domainError,r=n.type;t.hasError&&!1===this.props.hasError?this.setState({gainFocus:!0}):this.setState({gainFocus:!1}),o&&r&&"email"===r&&this.setState({shouldTooltipOpen:!0})}},{key:"componentDidUpdate",value:function e(){this.state.gainFocus&&this.focusInput()}},{key:"focusInput",value:function e(){this._input&&this._input.focus(),this._gestaltInput&&this._gestaltInput.textfield&&this._gestaltInput.textfield.focus()}},{key:"renderVanillaTextInputField",value:function e(t,n){var o=this;return b.a.createElement("div",null,b.a.createElement("input",{"aria-label":this.props.accessibilityLabel||this.props.placeholder,autoComplete:this.props.autoComplete,className:t,name:this.props.name,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onChange:this.props.onChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:function e(t){o._input=t,o.props.inputRef&&o.props.inputRef(t)},style:n,type:this.props.type,value:this.props.value}),this.renderErrorIcon(this.props.hasError),this.renderTooltip(this.props.tooltip,this.props.hasError))}},{key:"render",value:function e(){var t=O.input;this.props.inputStyleOverrides&&(t=p({},t,this.props.inputStyleOverrides));var n=O.fieldset;this.props.fieldsetStyleOverrides&&(n=p({},n,this.props.fieldsetStyleOverrides));var o="";return"gray"===this.props.placeholderColor?o="UnauthTextInputField__gray":"darkGray"===this.props.placeholderColor&&(o="UnauthTextInputField__darkGray"),b.a.createElement("fieldset",{className:this.props.classNames,style:n},this.props.inputFieldTitle?b.a.createElement("div",{style:O.fieldTitle},this.props.inputFieldTitle):null,this.props.useGestalt?this.renderGestaltInputField():this.renderVanillaTextInputField(o,t))}}]),n}(o.Component);S.defaultProps={autoComplete:"on",hasError:!1},t.a=S},"/+lb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("1RBt"),r=n.n(o),i={ready:function(e,t){r.a.ready(e,t)},load:function(e,t,n){i.ready(e,function(){var e;0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),r()(t,n)})},done:function(e){r.a.done(e)}};t.default=i},"/2tF":function(e,t,n){"use strict";var o=n("d6ZO"),u=n.n(o),r=n("IaRT"),i=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var y={button:{border:"0px",height:"36px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",outline:"none",WebkitBoxShadow:"none",boxShadow:"none",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center"},buttonRed:{backgroundColor:"#e60023",color:"#fff"},buttonLightGrey:{backgroundColor:"#ebebeb",color:"#444"},buttonDarkGrey:{backgroundColor:"#333",color:"#fff"},buttonWhite:{backgroundColor:"#fff",color:"#444"},buttonWhiteBlueText:{backgroundColor:"#fff",color:"#4a90e2"},buttonTransparent:{backgroundColor:"transparent",border:"1px solid #fff",color:"#fff"},disabledButton:{backgroundColor:"#efefef",color:"#8e8e8e"},loadingSpinner:{padding:"0 10px",position:"relative"},noStyles:{background:"none",border:"none",padding:"0",textAlign:"left"}},_=function(e){function o(e,t){var n;return c(this,o),(n=f(this,h(o).call(this,e,t))).state={loadingWidth:null,isMountedClientSide:!1},n}return b(o,e),d(o,[{key:"componentDidMount",value:function e(){var t=0;this._buttonRef&&(t=this._buttonRef.getBoundingClientRect().width+parseFloat(this._buttonRef.style.marginLeft)+parseFloat(this._buttonRef.style.marginRight),this.setState({loadingWidth:t})),this.setState({isMountedClientSide:!0})}},{key:"renderSpinner",value:function e(){return u.a.createElement("div",{className:"loadingSpinner",style:y.loadingSpinner})}},{key:"render",value:function e(){var t=this,n=this.state.loadingWidth,o=this.props.loading||0<this.props.numServerRenderedPins&&!1===this.state.isMountedClientSide,r=this.props.className,i={},a=!1,s=r.split(" ");this.props.disabled?i=y.disabledButton:-1<s.indexOf("red")?i=y.buttonRed:-1<s.indexOf("lightGrey")?i=y.buttonLightGrey:-1<s.indexOf("darkGrey")?i=y.buttonDarkGrey:-1<s.indexOf("white")?i=y.buttonWhite:-1<s.indexOf("blueText")?i=y.buttonWhiteBlueText:-1<s.indexOf("noButtonStyles")?a=!0:(-1<s.indexOf("transparent")||-1<s.indexOf("blueTransparent"))&&(i=y.buttonTransparent);var c=a?p({},y.noStyles,this.props.styleOverrides):p({},y.button,i,this.props.styleOverrides);if(o){var l={cursor:"default"};n&&Object.assign(l,{width:n}),c=p({},c,l)}else this.props.disabled?c=p({},c,{cursor:"not-allowed"}):r+=" active";return u.a.createElement("button",{"aria-label":this.props.accessibilityLabel,className:r,disabled:this.props.disabled,href:this.props.href,id:this.props.id,onClick:this.props.onClick,ref:this.props.buttonRef||function(e){t._buttonRef=e},style:c,type:this.props.type},o?this.renderSpinner():this.props.children)}}]),o}(o.Component);_.defaultProps={accessibilityLabel:"",styleOverrides:{},loading:!1,type:"button"},t.a=_},"12R3":function(e,t,n){"use strict";var o=n("BAXv"),a=n("UVpX"),r=n("PY0g"),s=n.n(r),c=n("Krtm"),i=n("FrUj"),l={PhoneNumberAsYouTypeParser:null,csrf:Math.floor(0xffffffffffff*Math.random()).toString(16),phoneNumberValidators:[Object(i.p)({message:""}),Object(i.o)({message:""})],setupPhoneAuth:function e(i){var t=l.csrf;window.AccountKit_OnInteractive=function(){AccountKit.init({appId:o.a.GEN.templateConst.settings.FACEBOOK_API_KEY,state:t,version:"v1.1",fbAppEventsEnabled:!0})},function(e,t,n){var o=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var r=e.createElement(t);r.id=n,r.src="https://sdk.accountkit.com/"+a.a.getLocaleString(i)+"/sdk.js",o.parentNode.insertBefore(r,o)}}(document,"script","accountkit-jssdk"),s()().then(function(e){l.PhoneNumberAsYouTypeParser=e.default})},runPhoneValidators:function e(t,n,o){var r=Object(c.a)(t,l.phoneNumberValidators);if(!r)try{var i=l._extractCountryCode(n),a=new l.PhoneNumberAsYouTypeParser(i);a.input(t),AccountKit.login("PHONE",{countryCode:l._extractPhoneCountryCode(a),phoneNumber:l._extractPhoneNumber(a)},o)}catch(e){return!0}return r},validateResponse:function e(t){return t&&"PARTIALLY_AUTHENTICATED"===t.status&&t.state===l.csrf},_extractCountryCode:function e(t){return t.slice(-2).toUpperCase()||"US"},_extractPhoneCountryCode:function e(t){return t.country_phone_code?"+"+t.country_phone_code:t.country&&0<t.country_metadata.length?"+"+t.country_metadata[0]:"+1"},_extractPhoneNumber:function e(t){return t.national_number}};t.a=l},"1RBt":function(e,t){var s="undefined"==typeof window?null:window.document,c=s?s.getElementsByTagName("head")[0]:null,l=/^https?:\/\//,u={},p={},d={},f="",g={},n="string",h=!1,b="push",o="DOMContentLoaded",r="readyState",i="addEventListenerName",m="onreadystatechangeName";function y(e,t){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return h;return!0}function _(e,t){return y(e,function(e){return!t(e)}),h}function w(e,t,n){e=e[b]?e:[e];var o=t&&"function"==typeof t,r=o?t:n,i=o?e.join(""):t,a=e.length;function s(e){var t;return e.call?e():u[e]}function c(){if(!--a){var e;if(u[i]=1,r)r();for(var t in d)y(t.split("|"),s)&&!_(d[t],s)&&(d[t]=[])}}return setTimeout(function(){_(e,function(e){return null===e?c():g[e]?(i&&(p[i]=1),2==g[e]&&c()):(g[e]=1,i&&(p[i]=1),void v(!l.test(e)&&f?f+e+".js":e,c))})},0),w}function v(e,t){var n=!1,o=function(e,t){n||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout(function(){o(e,t)},100))},r=s.createElement("script"),i=h,a=r.onload=r.onerror=r[m]=function(){n||(n=!0,r.readyState&&!/^c|loade/.test(r.readyState)||(r.onload=r[m]=null,i=1,g[e]=2,t()))};o(r,a),r.async=1,r.src=e,c.insertBefore(r,c.firstChild)}s&&!s[r]&&s[i]&&(s[i](o,function e(){s.removeEventListener(o,e,h),s[r]="complete"},h),s[r]="loading"),w.get=v,w.order=function(n,o,r){!function e(){var t=n.shift();n.length?w(t,e):w(t,o,r)}()},w.path=function(e){f=e},w.ready=function(e,t,n){e=e[b]?e:[e];var o=[],r,i,a;return!_(e,function(e){u[e]||o.push(e)})&&y(e,function(e){return u[e]})?t():(i=e.join("|"),d[i]||(d[i]=[]),d[i][b](t),n&&n(o)),w},w.done=function(e){w([null],e)},e.exports=w},4642:function(e,t,n){"use strict";var i=n("SVkg"),o=n("THYI"),a=n.n(o),s=n("woYD");t.a=function(e){var t=e.usernameOrEmail,n=e.logOptions,o=e.callBack,r=e.ErrorCallback;n&&Object(s.a)(i.a.requestEnd,n),a.a.create("UserResetPasswordResource",{username_or_email:t}).callCreate({showError:!1}).then(function(e){n&&Object(s.a)(i.a.request,n),o&&o()},function(e){r&&r(e)})}},"63R5":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),t.b=r;var l=n("FfPm"),u=20,p=100,d=.01,f=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function o(o){return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(o,'"]')))e();else{var n=document.createElement("script");n.src=o,n.async=!0,n.addEventListener("load",e),n.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(n)}})}function r(a){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.OTHER,e,c=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?"web":"mweb";return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(a,'"]'))){var n=0;if(s===f.GPLUS_ONE)if(window.gapi)e();else var o=setInterval(function(){window.gapi||n===u?(clearInterval(o),e()):(n+=1,l.default.increment("".concat(c,".loadScript.gplus_one.tries_").concat(n),d))},p);else if(s===f.FACEBOOK)if(window.FB)e();else var r=setInterval(function(){window.FB||n===u?(clearInterval(r),e()):(n+=1,l.default.increment("".concat(c,".loadScript.facebook.tries_").concat(n),d))},p);else e()}else{var i=document.createElement("script");i.src=a,i.async=!0,i.addEventListener("load",e),i.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(i)}})}},"6Jd8":function(e,t,n){"use strict";var o=n("d6ZO"),a=n.n(o),s=n("5tOk"),c=n("BAXv"),l=n("W/Cr"),r=n("IaRT"),i=n.n(r);function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){p(t,e,n[e])})}return t}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={tosContainer:{marginTop:"15px"},tosCommon:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear"},tosLarge:{color:"#333",fontSize:"12px",lineHeight:"12px"},tosDark:{color:"#aaa",width:"224px"},tosLight:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"}};function f(){var e,t;return[l.a._("Your Pinterest account is now even more secure","[urgent email] Subject for email to notify users of a change to their account”"),l.a._("To help keep your account and contact info even more secure, we're no longer allowing people to use their\n    email address as their first or last name on Pinterest.\n\n    We've removed the @domain.com from your name, but if you'd like to make any changes,\n    you can update your name in the Profile section of your settings.\n\n    For more information, visit our Help Center to learn about [account access and safety].\n    https://help.pinterest.com/en/topics/account-access-and-safety\n\n    Thanks for helping us keep Pinterest safe!","[urgent email] Body of email to notify users about a change to their account")]}function g(e,t){var n=c.a.GEN.templateConst.settings.EU_COUNTRIES,o=u({},d.tosCommon,d.tosDark);e.dark||(o=u({},d.tosCommon,d.tosLight));var r=e.noContainer?{}:d.tosContainer,i;return e.dynamicTopMargin&&(r=u({},r,{marginTop:"3%"})),e.disableWordBreak&&(r=u({},r,{hyphens:"none"})),e.large&&(o=u({},o,d.tosLarge)),i=-1<n.indexOf(t.country)?s.c(l.a._('By continuing, you agree to Pinterest\'s <a data-test-id="tos" href="{{ tos_url }}">Terms of Service</a>, <a data-test-id="privacy" href="{{ privacy_policy_url }}">Privacy Policy</a> and <a href="{{ cookie_url }}"> Cookie use</a>.'),{tos_url:c.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:c.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL,cookie_url:c.a.GEN.templateConst.settings.ABOUT_COOKIE_URL}):s.c(l.a._('By continuing, you agree to Pinterest\'s <a data-test-id="tos" href="{{ tos_url }}" target="_blank" >Terms of Service</a>, <a data-test-id="privacy" href="{{ privacy_policy_url }}" target="_blank">Privacy Policy</a>'),{tos_url:c.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:c.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL}),a.a.createElement("div",{style:r},a.a.createElement("span",{className:e.dark?"":"TermsOfService__light",style:o},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:i}})))}g.contextTypes={country:i.a.string.isRequired},t.a=g},"6SRG":function(e,t,n){"use strict";var o=n("d6ZO"),E=n.n(o),r=n("DUIN"),s=n("P9bn"),b=n("BAXv"),k=n("W/Cr"),h=n("5JMz"),c=n("4642"),l=n("12R3"),i=n("IaRT"),a=n.n(i),u=n("o4o0"),p=n("THYI"),d=n.n(p),f=n("Krtm"),m=n("ieR2"),g=n("6Jd8"),y=n("mjwP"),_=n("85jk"),w=n("+J0N"),v=n("vQM4"),O=n("MQ2h"),S=n.n(O),x=n("9FEF"),C=n("FGUD"),P=n("+B8E"),L=n("VfQf"),R=n("kzic"),T=n("UUel"),j=n("a993"),I=n("Q4UA"),A=n("Wcb7"),F=n("y2lE"),B=n("gEaE"),N=n("FrUj");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){H(t,e,n[e])})}return t}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function V(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?Y(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}function K(e,t){return(K=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=b.a.GEN.templateConst.settings.PASSWORD_RESET_URL,X="loginmodal",J="email",Z="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1",$={emailButtonStyles:{height:"40px",width:"100%",borderRadius:"2px"},emailButtonTextStyles:{fontFamily:v.a,textAlign:"center",fontSize:"15px",WebkitFontSmoothing:"auto"},spaceBetweenTextAndSocial:{height:"11px"},loginForm:{borderTop:"solid 1px #ccc",minHeight:"350px",padding:"20px 10px"},loginTitleContainer:{margin:"0 auto 25px"},loginTitle:{fontSize:"28px",fontWeight:"bold",letterSpacing:"-1px"},loginContainer:{margin:"0 auto",width:"268px"},loginFooterContainer:{marginTop:"15px",color:"#333"},socialButtonContainer:{marginTop:"10px"},socialButtonSeparator:{height:"10px"},verticalCenter:{display:"flex",flexDirection:"column",justifyContent:"center"}},ee=function(e){function a(e,t){var h;U(this,a),H(Y(Y(h=V(this,z(a).call(this,e,t)))),"onLoginWithVoluntarilyDeactivated",function(e){h.setState({googleValidationError:e.message})}),H(Y(Y(h)),"onLoginWithSuspended",function(){var e=h.props.loadingIndicatorCallback;e&&e(!1),h.setState({accountRecoveryModalType:T.a[b.a.POLICY_VIOLATION_USER],loading:!1})}),H(Y(Y(h)),"onloadCallback",function(){try{var e=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:Z,callback:"verifyCaptcha"});window.recaptchaIdOne=e}catch(e){}try{var t=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:Z,callback:"verifyCaptcha"});window.recaptchaIdTwo=t}catch(e){}}),H(Y(Y(h)),"inExpGroupHigherPasswordReset",function(){return new P.c(h.props.requestContext,"web_unauth_higher_password_reset").enabled()}),H(Y(Y(h)),"handleButtonClick",function(e,t){var n=h.props,o=n.contextLog,r=n.viewer,i=l.a.runPhoneValidators(h.props.email,h.context.locale,h._loginFacebookAccountKit.bind(Y(Y(h))));r.isAuth?o(101,{element:30,login_state:r.isLimitedLogin?2:1,signup_login_method:1}):o(101,{element:30,signup_login_method:1}),h.setState({facebookValidationError:null,googleValidationError:null}),i&&((i=Object(f.a)(h.props.email,h.emailValidators))?(h.setState({emailValidationError:i}),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(X))):(h.setState({emailValidationError:null}),(i=Object(f.a)(h.props.password,h.passwordValidators))?(h.setState({passwordValidationError:i}),Object(_.a)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(X))):(h.setState({passwordValidationError:null}),h.loginUser(J,void 0,t))))}),H(Y(Y(h)),"preventRegister",function(e){e===j.a?h.updateAccountRecoveryModal(A.a.PREVENT_FACEBOOK_REGISTER):e===I.a&&h.updateAccountRecoveryModal(A.a.PREVENT_GOOGLE_REGISTER),h.props.triggerAccountRecoveryMode&&h.props.triggerAccountRecoveryMode(e)}),H(Y(Y(h)),"updateAccountRecoveryModal",function(e){return h.setState({accountRecoveryModalType:e})}),H(Y(Y(h)),"handleLoginFailure",function(e,t,n){var o=h.props,r=o.clearPassword,i=o.contextLog,a=o.viewer,s=h.getAuxDataLoginMethod(e);a.isAuth?i(7535,{login_state:a.isLimitedLogin?2:1,signup_login_method:s}):i(7535,{signup_login_method:s}),h.props.loadingIndicatorCallback(!1);var c=t.http_status===b.a.RESPONSE_CODE_TOO_MANY_REQUESTS?b.a.RESPONSE_CODE_TOO_MANY_REQUESTS:t.api_error_code;if(c!==b.a.LOGIN_MFA_REQUIRED){var l;if(c===b.a.RESPONSE_CODE_TOO_MANY_REQUESTS&&t.api_error_code===b.a.API_EVENT_BLOCKED_ERROR&&t.message&&"!"!==t.message[t.message.length-1]&&!A.b.isExceedRecaptchaLocalLimit())if((h.props.requestContext.seoUnauthExperiments.v2ActivateExperiment("web_unauth_show_recaptcha_for_login_ip_rate_limit")||"").startsWith("enabled")){if(document.getElementById("recaptcha-jssdk"))h.onloadCallback();else{var u=document.createElement("script");u.id="recaptcha-jssdk",u.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit";var p=document.getElementsByTagName("script")[0];p.parentNode&&p.parentNode.insertBefore(u,p)}return void h.setState({passwordValidationError:k.a._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1})}var d="";c!==b.a.INVALID_PASSWORD_GOOGLE_USER&&c!==b.a.INVALID_PASSWORD_FB_USER||(d=h.props.requestContext.seoUnauthExperiments.v2ActivateExperiment("web_unauth_social_only_set_password")||"");var f=A.b.getLoginErrorState(t,"login",h.props.email,y.a,h.updateAccountRecoveryModal,h.props.requestContext.seoUnauthExperiments);if(d.startsWith("enabled_flyout")){h.props.hideBrandFlyout&&h.props.hideBrandFlyout();var g="";c===b.a.INVALID_PASSWORD_GOOGLE_USER?g=k.a._("Your account is linked to Google. To log in with email, ","Text in bubble prompting user who only has Google log in to create a password"):c===b.a.INVALID_PASSWORD_FB_USER&&(g=k.a._("Your account is linked to Facebook. To log in with email, ","Text in bubble prompting user who only has Facebook log in to create a password")),h.setState({googleOnlyLogin:!0,flyoutErrorText:g}),f={}}f?(h.setState(W({accountRecoveryModalType:T.a[c]},f,{loading:!1})),r&&f.passwordValidationError&&r()):(k.a._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),Object(C.a)(k.a._("Sorry! Something went wrong on our end.")),h.setState({loading:!1}))}else A.b.handleLoginMfa(n,t.data,h.props.onLoginWithMfa)}),H(Y(Y(h)),"verifyCaptcha",function(){var e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);A.b.updateRecaptchaTimeStamp(),h.handleButtonClick(void 0,e),A.b.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),H(Y(Y(h)),"_loginFacebookAccountKit",function(e){if(l.a.validateResponse(e)){var t={phone_number:h.props.email,fb_auth_code:e.code};Object(_.a)("unauth_phone_only_login_attempt"),h.loginUser(j.a,t)}else h.setState({emailValidationError:k.a._("Enter your email or phone number to try again."),loading:!1})}),H(Y(Y(h)),"handleEmailChange",function(e){h.props.onEmailChange&&h.props.onEmailChange(e)}),H(Y(Y(h)),"handlePasswordChange",function(e){h.state.passwordValidationError&&h.setState({passwordValidationError:null}),h.props.onPasswordChange&&h.props.onPasswordChange(e)}),H(Y(Y(h)),"handleBlur",function(){h.setState({facebookValidationError:null,googleValidationError:null})}),H(Y(Y(h)),"handleMagicLinkClick",function(){h.setState({magicLinkLoading:!0});var e=Object(f.a)(h.props.email,h.emailValidators),t;e?h.setState({emailValidationError:e,magicLinkLoading:!1}):(h.setState({emailValidationError:null}),d.a.create("UserLoginPasswordlessResource",{username_or_email:h.props.email,is_magic_link:!0}).callCreate().then(function(){Object(L.a)("link_send_success",h.props.email,h.props.password),h.setState({magicLinkLoading:!1}),h.props.toggleMagicLinkConfirmation(!0)},function(e){var t;Object(L.a)("link_send_failure",h.props.email,h.props.password),t=e.message?k.a._("The email you entered does not belong to any account.","Error message shown when login email does not exist."):k.a._("Sorry! Something went wrong on our end.","error message on login modal telling users we had a problem with their request"),h.setState({emailValidationError:t,magicLinkLoading:!1})}))}),H(Y(Y(h)),"handlePasswordResetClicked",function(e){e.event.preventDefault(),Object(_.a)("unauth.web.social_only.password_flyout.click"),Object(c.a)({usernameOrEmail:h.props.email,callBack:h.handlePasswordResetEmailSent})}),H(Y(Y(h)),"handlePasswordResetEmailSent",function(){h.setState({googleOnlyLogin:!1,flyoutErrorText:""}),Object(_.a)("unauth.web.social_only.password_flyout.sent"),h.updateAccountRecoveryModal(A.a.PASSWORD_RESET_SENT)}),H(Y(Y(h)),"dismissSocialFlyout",function(){}),H(Y(Y(h)),"renderSocialFlyout",function(e){return E.a.createElement(B.k,{anchor:e,idealDirection:"right",size:"md",color:"orange",onDismiss:h.dismissSocialFlyout},E.a.createElement(B.b,{padding:3},E.a.createElement(B.O,{onTouch:h.handlePasswordResetClicked},E.a.createElement(B.K,{size:"lg",color:"white",overflow:"normal"},h.state.flyoutErrorText,E.a.createElement(B.t,{href:"/"},h.resetPasswordText)))))}),H(Y(Y(h)),"renderPasswordResetLink",function(){var e=h.props,t=e.contextLog,n=e.email,o=e.viewer,r=h.state.passwordValidationError,i=$.loginFooterContainer;if(h.inExpGroupHigherPasswordReset()){if(r&&E.a.isValidElement(r))return null;i={float:"left",marginBottom:"8px",marginTop:"4px"}}return E.a.createElement("div",{style:i},E.a.createElement("a",{href:Q+(n?"?q=".concat(n):""),onClick:function e(){Object(_.a)("login_modal_forget_account"),o.isAuth?t(101,{element:10881,login_state:o.isLimitedLogin?2:1}):t(101,{element:10881})}},k.a._("Forgot your password?","Desktop login modal link for users to recover their account")))}),H(Y(Y(h)),"renderRegisterForm",function(){var e=h.props,t=e.email,n=e.hideEmailField,o=e.inputStyleOverrides,r=e.isAccountSwitch,i=e.loginButtonTextOverride,a=e.magicLinkGroup,s=e.password,c=i||k.a._("Log in");return E.a.createElement(u.a,{buttonText:c,disableEmailLogin:h.props.disableEmailLogin,email:t,emailText:k.a._("Email or phone number"),emailValidationError:h.state.emailValidationError,handleMagicLinkClick:h.handleMagicLinkClick,hideEmailField:n,hidePasswordField:h.props.hidePasswordField,hideFacebookButton:h.props.hideFacebookButton,hideGoogleButton:h.props.hideGoogleButton,inputStyleOverrides:o,loading:h.state.loading&&!r,magicLinkLoading:h.state.magicLinkLoading,magicLinkGroup:a,onButtonClick:h.handleButtonClick,onEmailBlur:h.handleBlur.bind(Y(Y(h))),onEmailChange:h.handleEmailChange.bind(Y(Y(h))),onPasswordChange:h.handlePasswordChange,password:s,passwordText:k.a._("Password"),passwordValidationError:h.state.passwordValidationError,renderPasswordResetLink:h.inExpGroupHigherPasswordReset()?h.renderPasswordResetLink:null})}),H(Y(Y(h)),"renderOriginalForm",function(){return E.a.createElement("div",null,h.renderRegisterForm(),!h.props.hidePasswordField&&(!h.props.hideFacebookButton||!h.props.hideGoogleButton)&&E.a.createElement(s.a,null),h.renderSocialButtons())}),H(Y(Y(h)),"renderButtons",function(){return h.renderOriginalForm()}),h.state={accountRecoveryModalType:null,emailValidationError:e.emailValidationError||null,passwordValidationError:e.passwordValidationError||null,facebookOnlyLogin:!1,facebookValidationError:null,flyoutErrorText:"",googleOnlyLogin:!1,googleValidationError:null,loading:!1,magicLinkLoading:!1,passwordFieldVisible:!1,isStopRequest:!1};var n=k.a._("You missed a spot! Don't forget to add your email or phone number."),o=k.a._("Hmm...that doesn't look like an email address or phone number."),r=k.a._("Oh @*&#! No zany characters allowed.");h.emailValidators=[Object(N.p)({message:n}),Object(N.e)({message:o})];var i=k.a._("The password you entered is incorrect.");return h.passwordValidators=[Object(N.b)({message:r}),Object(N.n)({shortPassStr:i,badPassStyle:i,samePasswordStr:i,blackPassStr:i})],h}return q(a,e),G(a,[{key:"componentDidMount",value:function e(){A.b.isFullyLoggedIn(this.context.isAuthenticated,this.context.loginState)&&!this.props.isAccountSwitch&&(this.props.showResponseMessageModal?this.props.showResponseMessageModal(!1):A.b.handleRedirect(this.props.nextUrlParam)),l.a.setupPhoneAuth(this.context.locale),this.resetPasswordText=k.a._("click here to set a password.","link inside bubble allowing user with only google or facebook login to click to set a password"),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.emailValidationError,o=t.passwordValidationError,r={};n!==this.props.emailValidationError?r={emailValidationError:n}:o!==this.props.passwordValidationError&&(r={passwordValidationError:o}),this.setState(r)}},{key:"componentWillUnmount",value:function e(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}},{key:"getAuxDataLoginMethod",value:function e(t){return t===j.a?2:t===I.a?3:t===J?1:""}},{key:"loginUser",value:function e(t,n,o){var r=this;this.setState({loading:!0}),this.props.loadingIndicatorCallback(!0);var i=n||{username_or_email:this.props.email,password:this.props.password},a=this.props,s=a.contextLog,c=a.isAccountSwitch,l=a.container,u=a.viewer,p=a.showResponseMessageModal,d={container:this.props.container,hybridTier:this.context.hybridTier,page:this.context.pageType},f=m.b.localStorage.getItem("visitedPagesBeforeLogin"),g=this.getAuxDataLoginMethod(t);u.isAuth?s(7534,{login_state:u.isLimitedLogin?2:1,signup_login_method:g}):s(7534,{signup_login_method:g}),Object(h.a)(i,d,this.props.requestContext.seoUnauthExperiments,c,f,o).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.isAuth?s(7536,{login_state:u.isLimitedLogin?2:1,signup_login_method:g}):s(7536,{signup_login_method:g}),A.b.storeLoginCredentialsToBrowser(i);var t=r.props.nextUrlParam||A.b.defaultLoginRedirectUrl();if(c&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var n=e.resource_response.data.user;Object(w.b)(n,"email",l),p?p(!1):A.b.handleRedirect("/"+n.username)}else"/"!==t&&m.b.localStorage.setItem("authAfterLogin",!0),A.b.storeLoginCredentialsToBrowser(i),p?p(!1):A.b.handleRedirect(t)},function(e){return r.handleLoginFailure(t,e,i)})}},{key:"renderSocialButtons",value:function e(){var n=this,t=this.props,o=t.disablePostSignupNextUrl,r=t.hideFacebookButton,i=t.hideGoogleButton,a=t.isAccountSwitch,s=t.isPersonalizedLoginFlyout,c=t.loadingIndicatorCallback,l=t.nextUrlParam,u=t.onLoginWithMfa,p=t.onSocialConnectVerified,d=t.shouldPreventRegister,f=this.state,g=f.facebookOnlyLogin,h=f.googleOnlyLogin,b=!r&&E.a.createElement("div",{ref:function e(t){n.facebookButton=t}},E.a.createElement(j.b,{buttonText:k.a._("Continue with Facebook"),container:this.props.container,disablePostSignupNextUrl:o,isAccountSwitch:a,loadingIndicatorCallback:c,nextUrlParam:l,onSocialConnectVerified:p,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,tooltip:this.state.facebookValidationError,useGestaltTooltip:!0,preventRegister:d?this.preventRegister.bind(this):void 0,showResponseMessageModal:this.props.showResponseMessageModal}),g&&this.renderSocialFlyout(this.facebookButton)),m=!i&&E.a.createElement("div",{ref:function e(t){n.googleButton=t}},E.a.createElement(I.b,{container:this.props.container,disablePostSignupNextUrl:o,isAccountSwitch:a,nextUrlParam:l,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,onSocialConnectVerified:p,tooltip:this.state.googleValidationError,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,preventRegister:d?this.preventRegister.bind(this):void 0,showResponseMessageModal:this.props.showResponseMessageModal}),h&&this.renderSocialFlyout(this.googleButton)),y,_,w=s?W({},$.socialButtonSeparator,{height:!r&&!i?"8px":"0px"}):$.socialButtonSeparator,v=s?W({},$.socialButtonContainer,{marginTop:"9px"}):$.socialButtonContainer;return E.a.createElement("div",{style:v},b,E.a.createElement("div",{style:w}),m)}},{key:"render",value:function e(){var t=this.props,n=t.isAccountSwitch,o=t.email;return E.a.createElement("div",{style:$.loginContainer},E.a.createElement(T.b,{modalType:this.state.accountRecoveryModalType,updateAccountRecoveryModal:this.updateAccountRecoveryModal,email:o,onLoginWithMfa:this.props.onLoginWithMfa}),this.renderButtons(),!this.props.hideTermsOfService&&E.a.createElement(g.a,{dark:!0}),n||this.props.hidePasswordReset||this.inExpGroupHigherPasswordReset()?null:this.renderPasswordResetLink())}}]),a}(o.Component);H(ee,"defaultProps",{container:"unknown",isAccountSwitch:!1,isPersonalizedLoginFlyout:!1,shouldPreventRegister:!1});var te=function e(t){return{viewer:t.viewer}};ee.contextTypes={isAuthenticated:a.a.bool.isRequired,locale:a.a.string.isRequired,loginState:a.a.number,userAgent:a.a.shape({isMobile:a.a.bool.isRequired}).isRequired,hybridTier:a.a.string,pageType:a.a.string},t.a=Object(O.compose)(Object(r.connect)(te),F.a,R.withRouter)(ee)},CogI:function(e,t,n){"use strict";var p=n("d6ZO"),o=n.n(p),d=n("rv2a"),f=n("gEaE");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function g(e,t){if(null==e)return{};var n=a(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function a(e,t){if(null==e)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var y=function(e){function t(){return i(this,t),l(this,h(t).apply(this,arguments))}return b(t,e),c(t,[{key:"render",value:function e(){var n=this,t=this.props,o=t.description,r=t.error,i=t.id,a=t.label,s=t.required,c=void 0!==s&&s,l=t.onLabelTouch,u=g(t,["description","error","id","label","required","onLabelTouch"]);return p.createElement(d.a,{description:o,error:r,id:i,label:a,required:c,onLabelTouch:l},p.createElement(f.M,Object.assign({},u,{hasError:!!r,id:i,ref:function e(t){n.textfield=t?t.textfield:null}})))}}]),t}(p.Component);t.a=y},FGUD:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=function e(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("handleErrorMessage",!0,!0,t),window.dispatchEvent(n)},r=function e(t,n){o({message:t,href:n})},i=r},Krtm:function(e,t,n){"use strict";var o=function e(n,t){var o;return t.some(function(e){var t=e(n);return 0<t.errors.length&&(o=t.errors[0],!0)}),o};t.a=o},KtTI:function(e,t,n){"use strict";var a=n("d6ZO"),f=n.n(a),o=n("DUIN"),r=n("GGB8"),g=n.n(r),s=n("W/Cr"),h=n("tmfO"),c=n("5tOk");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?_(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function i(){var e,o;l(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(_(_(o=d(this,(e=b(i)).call.apply(e,[this].concat(n))))),"getContent",function(){var e=o.props,t=e.fullName,n=e.imageSrc;return n?a.createElement("img",{alt:t,src:n,title:Object(c.h)(s.a._("More from {{ fullName }}"),{fullName:t})}):a.createElement("span",{className:"icon"},t[0].toUpperCase())}),o}return m(i,e),p(i,[{key:"render",value:function e(){return a.createElement("div",null,this.getContent())}}]),i}(a.Component),E=n("y2lE"),k=n("gEaE"),O=n("MQ2h"),S=n.n(O),x=n("L1Kv");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?F(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function r(){var e,i;P(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return B(F(F(i=T(this,(e=j(r)).call.apply(e,[this].concat(n))))),"state",{isFollowing:i.props.user.explicitly_followed_by_me||!1}),B(F(F(i)),"handleFollowClick",function(){var e=i.props,t=e.follow,n=e.unfollow,o=e.user,r;i.state.isFollowing?(n(o.id),i.setState({isFollowing:!1})):(t(o.id),i.setState({isFollowing:!0})),i.props.logData&&i.props.contextLog(101,i.props.logData)}),i}return I(r,e),R(r,[{key:"renderFollowButton",value:function e(){var t=this.state.isFollowing,n=this.props.isSelf,o=t?s.a._("Unfollow"):s.a._("Follow");return n?f.a.createElement(k.c,{inline:!0,disabled:!0,text:s.a._("That's you!","Text describing that the person's avatar is you")}):f.a.createElement(k.c,{color:t?"gray":"red",inline:!0,onClick:this.handleFollowClick,text:o})}},{key:"render",value:function e(){var t=this.props,n=t.className,o=t.showName,r=t.showFollow,i=t.size,a=t.subtitle,s=t.title,c=t.user,l=void 0===c?{}:c,u=l.full_name,p=l.username,d=l.image_key||l.image_medium_url||l.image_small_url;return f.a.createElement("div",{className:g()("Module","User","hasText","thumb",i,n)},f.a.createElement(k.b,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1},f.a.createElement(k.b,{flex:"grow",paddingX:1},f.a.createElement(h.b,{className:"profileSource",to:"/".concat(p,"/")},f.a.createElement("div",{className:"thumbImageWrapper"},f.a.createElement(v,{fullName:l.full_name,imageSrc:d})),s&&f.a.createElement("h3",{className:"title"},s),o&&f.a.createElement("h4",{className:"fullname"},u),a&&f.a.createElement("div",{className:"subtitle"},a))),r&&f.a.createElement(k.b,{paddingX:1},this.renderFollowButton())))}}]),r}(a.Component);B(N,"defaultProps",{followedByMe:!1,showFollow:!1,showName:!1,size:"small",subtitle:"",viewType:"thumb"});var M=function e(n){return{follow:function e(t){return n(Object(x.a)(t))},unfollow:function e(t){return n(Object(x.b)(t))}}},W=t.a=Object(O.compose)(Object(o.connect)(null,M),E.a)(N)},Lgi6:function(e,t,n){"use strict";var o=n("hSTm"),r=n.n(o),i={get:function e(n){var o="gplus";r()().then(function(e){var t=e.default;t.load([],"https://apis.google.com/js/client:platform.js",o),t.ready(o,function(){n(window.gapi)})})}};t.a=i},P9bn:function(e,t,n){"use strict";var o=n("d6ZO"),i=n.n(o),a=n("W/Cr"),r=n("IaRT"),s=n.n(r),c={marginBottom:"3px",overflow:"hidden",textAlign:"center",color:"#333",fontWeight:"bold"};function l(e,t){var n=e.text||a.a._("OR"),o=Object.assign({},c,e.css),r="";return e.signupSeparatorContinuous&&(r="AlternativesSeparatorContinuous"),i.a.createElement("p",{className:r,style:o},n)}l.defaultProps={css:{}},l.contextTypes={pageType:s.a.string,userAgent:s.a.shape({isMobile:s.a.bool.isRequired}).isRequired},t.a=l},PY0g:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(21).then(function(e){t(n("a4Nl"))}.bind(null,n)).catch(n.oe)})}},Q4UA:function(e,t,n){"use strict";var o=n("d6ZO"),a=n.n(o),r=n("DUIN"),i=n("OIxG"),s=n("/2tF"),c=n("BAXv"),l=n("Lgi6"),u=n("W/Cr"),p=n("85jk"),d,f={scope:"profile email",client_id:c.a.GEN.templateConst.settings.GPLUS_CLIENT_ID,app_package_name:c.a.GEN.templateConst.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},g,h=function e(){return new Promise(function(t,n){window.gapi.auth2?window.gapi.auth2.init(f).then(function(){return t()}):window.gapi.load("auth2",{callback:function e(){window.gapi.auth2.init(f).then(function(){return t()})},onerror:function e(){Object(p.a)("unauth_web.api_auth2_load.error"),n()},timeout:15e3,ontimeout:function e(){Object(p.a)("unauth_web.api_auth2_load.timeout"),n()}})})},b=n("5JMz"),m=n("Wcb7"),y=n("IaRT"),_=n.n(y),w=n("XzpH"),v=n("SCJe"),E=n("gEaE");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I="google_auth_id_token",A="google_auth_first_name",F={container:{__style:{backgroundColor:"white",borderRadius:"8px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1}},msWebview:{height:"100%",width:"100%"}},B=function e(){return"undefined"!=typeof window?"".concat(window.location.origin,"/connect/gplus/"):""},N,M=function(e){function r(){var e,a;O(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return j(T(T(a=C(this,(e=P(r)).call.apply(e,[this].concat(n))))),"state",{googleSignWebviewSource:B()}),j(T(T(a)),"handleMsWebViewScriptNotify",function(e){if("success"===e.value){var t=a.props,n=t.onDismiss,o=t.onSignInCallback,r=window.localStorage.getItem(I),i=window.localStorage.getItem(A);window.localStorage.removeItem(I),window.localStorage.removeItem(A),o({access_token:"",code:"",expires_at:"",id_token:r,status:{signed_in:!0},first_name:i},!1,window.gapi),n()}else"failure"===e.value&&a.props.onError()}),j(T(T(a)),"msWebViewRef",function(e){e&&e.addEventListener("MSWebViewScriptNotify",a.handleMsWebViewScriptNotify)}),a}return L(r,e),x(r,[{key:"render",value:function e(){var t=this.props.onDismiss,n=this.state.googleSignWebviewSource;return a.a.createElement(E.b,{display:"flex",position:"fixed",dangerouslySetInlineStyle:F.container,direction:"column",height:"800px",padding:1,width:"500px"},a.a.createElement(E.b,{alignItems:"end",display:"flex",height:"35px",justifyContent:"end"},a.a.createElement(E.o,{accessibilityLabel:u.a._("Cancel Google Sign-In","Accessibility label for Google Sign-In Dialog bog"),onClick:t,icon:"cancel"})),a.a.createElement(E.b,{flex:"grow"},a.a.createElement("x-ms-webview",{style:F.msWebview,ref:this.msWebViewRef,src:n})))}}]),r}(o.Component),W=n("obZi"),U=n("+J0N"),D=n("MQ2h"),G=n.n(D),V=n("vQM4"),z=n("FGUD"),q=n("+B8E"),K=n("kzic"),Y=n("y2lE"),H=n("ok+N"),Q=n("+QQJ");function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){ae(t,e,n[e])})}return t}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}function te(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?ie(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return ue});var se={button:{padding:"1px",marginRight:"0px",textAlign:"left",backgroundClip:"padding-box",display:"block",transition:"opacity .2s linear",position:"relative",outline:"none",width:"100%",marginTop:"0px",backgroundColor:"#4285f4",height:"40px",borderRadius:"2px"},icon:{borderRadius:"2px",backgroundColor:"#fff",display:"inline-block",height:"25px",marginLeft:"7px",textAlign:"center",width:"25px"},iconContainer:{position:"relative",margin:"auto",marginTop:"2px"},text:{color:"#fff",display:"inline-block",fontFamily:V.b,position:"absolute",textAlign:"center",top:"50%",transform:"translateY(-50%)",verticalAlign:"top",WebkitFontSmoothing:"auto",width:"83%"},tooltip:{top:"12px",left:"100%",position:"absolute"}},ce="postmessage",le="profile email",ue="google",pe="signin_render",de="auth2_attachclickhandler",fe=function e(){return"undefined"!=typeof window&&void 0!==window.Windows},ge=function(e){function r(){var e,s;Z(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ae(ie(ie(s=te(this,(e=ne(r)).call.apply(e,[this].concat(n))))),"state",{showGoogleSigninWebview:!1}),ae(ie(ie(s)),"onSignInCallback",function(t,n,o){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:pe,i={gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at},e;if(t.status.signed_in)Object(p.a)("unauth_web.google_connect.success.".concat(r)),s.login(i).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(s.props.isAccountSwitch&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var t=e.resource_response.data.user;Object(U.b)(t,ue,s.props.container)}n&&Object(p.a)("autologin.google"),s.onLoginSuccess()},function(e){if(e.api_error_code===c.a.LOGIN_VOLUNTARILY_DEACTIVATED_USER)s.props.onLoginWithVoluntarilyDeactivated&&s.props.onLoginWithVoluntarilyDeactivated(e);else if(e.api_error_code===c.a.LOGIN_MFA_REQUIRED)s.props.onLoginWithMfa&&s.props.onLoginWithMfa(i,e.data);else if(e.api_error_code===c.a.LOGIN_USER_NOT_FOUND){if(s.props.preventRegister)return void s.props.preventRegister(ue);s.onLoginError(e,t,o)}else e&&e.api_error_code&&Object(p.a)("google_connect_button.failed_login.".concat(e.api_error_code,".").concat(r)),e.api_error_code===c.a.POLICY_VIOLATION_USER&&s.props.onLoginWithSuspended?s.props.onLoginWithSuspended():Object(z.a)(u.a._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc."))});else{var a=t?t.error:"unknown";Object(p.a)("unauth_web.google_connect.failure.".concat(String(a),".").concat(r))}}),ae(ie(ie(s)),"onLoginSuccess",function(){var e=s.props.showResponseMessageModal;e?e(!1):m.b.handleRedirect(s.props.nextUrlParam||window.location.pathname)}),ae(ie(ie(s)),"shouldRequireAge",function(){var e=s.context.country;return Object(Q.d)(e)||Object(Q.c)(e)}),ae(ie(ie(s)),"handleButtonClick",function(){l.a.get(function(e){h().then(function(){fe()&&s.setState({showGoogleSigninWebview:!0})})})}),ae(ie(ie(s)),"handleOnDimisssWindowsPWAWebview",function(){s.setState({showGoogleSigninWebview:!1})}),ae(ie(ie(s)),"handleOnErrorWindowsPWAWebview",function(){s.setState({showGoogleSigninWebview:!1}),Object(z.a)(u.a._("Sorry, there was an error signing in with Google.","error message when user failed to login/signup using Google sign-in."))}),ae(ie(ie(s)),"handleSignupSuccess",function(){var e=s.props,t=e.disablePostSignupNextUrl,n=e.nextUrlParam,o=e.showResponseMessageModal;s.contextLogSignupLoginEvent(7487),o?o(!0):m.b.handleSignupRedirect(n,t)}),ae(ie(ie(s)),"handleSignupFailure",function(){s.contextLogSignupLoginEvent(7488)}),ae(ie(ie(s)),"renderTooltip",function(e){return e?a.a.createElement("div",{style:se.tooltip},a.a.createElement(w.a,{message:e})):null}),s}return oe(r,e),ee(r,[{key:"componentDidMount",value:function e(){var t=this;"undefined"!=typeof window&&(window.googleOnSignInCallbacks?window.googleOnSignInCallbacks.push(this.onSignInCallback):window.googleOnSignInCallbacks=[this.onSignInCallback]),this.readyForConnect=!1,this.autoLogin=!1,fe()||l.a.get(function(e){t._googleCallback(e)}),window.googleConnectButtonContainer=this.props.container?this.props.container:""}},{key:"componentWillUnmount",value:function e(){if("undefined"!=typeof window&&window.googleOnSignInCallbacks){var t=window.googleOnSignInCallbacks.indexOf(this.onSignInCallback);0<=t&&window.googleOnSignInCallbacks.splice(t,1)}delete window.googleConnectButtonContainer}},{key:"onLoginError",value:function e(t,n,o){var r=this.props,i=r.onSocialConnectVerified,a=r.requestContext,s=r.showSignupWelcomeLoadingFn,c=r.showResponseMessageModal,l=J({gplus_code:n.code,gplus_id_token:n.id_token,gplus_redirect_uri:ce},void 0!==n.first_name?{gplus_first_name:n.first_name}:{}),u={container:window.googleConnectButtonContainer,hybridTier:this.context.hybridTier,page:this.context.pageType};if(i&&this.shouldRequireAge())i(Q.a.GOOGLE,{},J({},l,u));else{var p=new q.c(a,"web_unauth_gplus_welcome_v2").enabled();a.experiments._queuedResource&&a.experiments._queuedResource.flush(),!c&&s&&p&&s(!0),v.a.register(J({},l,u)).then(this.handleSignupSuccess,this.handleSignupFailure)}}},{key:"_googleCallback",value:function e(t){var a=this;Object(W.a)(this.props.requestContext)?l.a.get(function(i){h().then(function(){window.gapi.auth2.getAuthInstance().attachClickHandler("googleConnectButton",{scope:"profile email"},function(e){Object(p.a)("unauth_web.google_connect.success.".concat(de));var t,n,o,r=J({},e.getAuthResponse(),{code:""},{status:{signed_in:!0}});a.onSignInCallback(r,!1,i,de)},function(e){var t=e?e.error:"unknown";Object(p.a)("unauth_web.google_connect.failure.".concat(String(t),".").concat(de))})}).catch(function(e){Object(p.a)("unauth_web.gapi_auth2_load.".concat(e||"unknown")),Object(z.a)(u.a._("Sorry, you need to select an account if you want to log in with Google.","error message when user failed to login/signup because they did not complete the Google step."))})}):t.signin.render(this.googleButton,{scope:le,clientid:c.a.GEN.templateConst.settings.GPLUS_CLIENT_ID,apppackagename:c.a.GEN.templateConst.settings.GPLUS_APP_PACKAGE_NAME,redirecturi:ce,accesstype:"offline",cookiepolicy:"single_host_origin",callback:function(e){this.readyForConnect&&window.googleOnSignInCallbacks&&window.googleOnSignInCallbacks[window.googleOnSignInCallbacks.length-1]&&window.googleOnSignInCallbacks[window.googleOnSignInCallbacks.length-1](e,this.autoLogin,t),this.readyForConnect=!0,this.autoLogin=!1}.bind(this)})}},{key:"contextLogSignupLoginEvent",value:function e(t){var n=this.props,o=n.contextLog,r=n.viewer;r.isAuth?o(t,{login_state:r.isLimitedLogin?2:1,signup_login_method:3}):o(t,{signup_login_method:3})}},{key:"login",value:function e(t){var n={container:window.googleConnectButtonContainer,hybridTier:this.context.hybridTier,page:this.context.pageType};return Object(b.a)(t,n,this.props.seoUnauthExperiments,this.props.isAccountSwitch)}},{key:"logo",value:function e(t){return a.a.createElement("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),a.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),a.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),a.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),a.a.createElement("path",{d:"M20 20h472v472H20V20z"})))}},{key:"render",value:function e(){var n=this,t=this.props.inline,o=this.state.showGoogleSigninWebview,r=se.button;t&&(r=J({},r,{width:"48%",display:"inline-block"}));var i=u.a._("Continue with Google");return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{id:"googleConnectButton",buttonRef:function e(t){n.googleButton=t},className:"GoogleConnectButton",onClick:this.handleButtonClick,styleOverrides:r,type:"button"},a.a.createElement("div",{style:se.icon},a.a.createElement("div",{style:se.iconContainer},this.logo(20))),a.a.createElement("span",{style:se.text},i),this.renderTooltip(this.props.tooltip)),o&&fe()&&a.a.createElement(M,{onDismiss:this.handleOnDimisssWindowsPWAWebview,onError:this.handleOnErrorWindowsPWAWebview,onSignInCallback:this.onSignInCallback}))}}]),r}(o.Component);ae(ge,"defaultProps",{inline:!1});var he=function e(t){return{viewer:t.viewer}};ge.contextTypes={country:_.a.string,hybridTier:_.a.string,pageType:_.a.string};var be=t.b=Object(D.compose)(i.b,Object(r.connect)(he),H.b,K.withRouter,Y.a)(ge)},SCJe:function(e,t,n){"use strict";var r=n("FqaO"),i=n("oUjL"),h=n("BAXv"),b=n("WjSu"),d=n("hVsM"),f=n("SnoN"),o=n("/4D9"),a=n.n(o),g=n("YtuQ"),s=n("W/Cr"),c=n("fDyu"),l=n.n(c),u=n("kHbH"),p=n("THYI"),m=n.n(p),y=n("Gktc"),_=n("ieR2"),w=n("85jk"),v=n("FJZF"),E=n("EAiy"),k=n("zF3j"),O=n("+QQJ"),S=n("tvce"),x=n("oroX"),C=n("+B8E");function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){L(t,e,n[e])})}return t}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=u.a.getLogger("AuthHandshake"),T=u.a.getLogger("UserRegistration"),j=0,I=function e(t,n){Object(w.a)("web_cross_domain_register.".concat(t,".").concat(Object(O.b)(n)))},A={register:function e(t){var n=P({},t),o=_.b.localStorage.getItem("visitedPages");o&&(n.visited_pages=JSON.stringify(o));var r=_.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin"),i,a;if(r){var s=[],c=!0,l=!1,u=void 0;try{for(var p=r[Symbol.iterator](),d;!(c=(d=p.next()).done);c=!0){var f=d.value;f.is_shared_pin&&s.push({ts:f.ts,path:f.path,first_pin_image_signature:f.image_signature,is_shared:!0})}}catch(e){l=!0,u=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}if(s){var g=x.a.fromGlobalContext();new C.c(g,"web_shared_pin_hf").enabledWithNoActivation()&&(n.visited_pages=JSON.stringify(s.concat(o||[])))}}if((n.user_behavior_data=Object(S.b)(),A.shouldPerformCrossDomainRegister(n))&&-1!==h.a.GEN.templateConst.settings.CORS_HANDSHAKE_DOMAINS.indexOf(b.a.instance.origin))return Object(w.a)("unauth_cross_domain_register_debugging_counter"),A.crossDomainRegister(n);return A.getResource(n).callCreate().then(A.onRegisterSuccess.bind(null,n),A.onRegisterError.bind(null,n))},crossDomainRegister:function e(o){return I("attempt",o),i.default.registerUser(o).then(function(e){A.onRegisterSuccess(o,e);var t=e.data||"";if(t)return I("success_with_token",o),i.default.exchangeTokenAndSetSession(t,!0).then(function(e){I("success_token_exchanged",o),R.debug("Cross domain register successful")},function(e){throw I("success_token_not_exchanged",o),R.error("Failed to set session for current user; "+e.message),e});I("success_without_token",o),R.error("No custom access token in cross domain register response");var n=s.a._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue.");throw new Error(n)},function(e){I("failure",o),R.error("Failed to register new user; "+e.message),A.onRegisterError(o,e)})},onRegisterSuccess:function e(t,n){return r.unset("galae"),r.unset("fbalae"),T.debug("Login, successful",n),Object(y.a)(),r.set("ujr","1"),A.trackRegister(t),n},onRegisterError:function e(t,n){var o;if(n.api_error_code===h.a.API_ERROR_UNDERAGE_REGISTER_ATTEMPT&&(Object(w.a)("multi_step_set_age_restrict_cookie"),r.set(
"r_r","1",87600),r.set("_pinterest_pfob","disabled")),(l()(n.api_error_code)||[h.a.API_SERVER_ERROR,h.a.API_REQUEST_TIMEOUT].includes(n.api_error_code))&&j<3)return Object(w.a)("unauth_web.signup_retry_error.".concat(String(n.api_error_code),".").concat(String(t.container))),j+=1,A.register(t);throw n},trackRegister:function e(t){var n;switch(t.container){case"home_page":n=d.a.fromEventType(1750),Object(w.a)("signup_home_page");break;case"mweb_homepage":n=d.a.fromEventType(1750),Object(w.a)("signup_mweb_home_page");break;case"plain_signup_modal":n=d.a.fromEventType(1751),Object(w.a)("signup_plain_modal");break;case"closeup_signup_modal":n=d.a.fromEventType(1752),Object(w.a)("signup_closeup_modal");break;case"widescreen_signup_modal":n=d.a.fromEventType(1753),Object(w.a)("signup_widescreen_modal");break;case"pinit_button_landing":n=d.a.fromEventType(1755),Object(w.a)("signup_pinit_button_landing");break;case"inspired_banner":Object(w.a)("signup_inspired_banner");break;case"category_jump_banner":Object(w.a)("signup_category_jump_banner");break;case"send_pin_banner":n=d.a.fromEventType(1756),Object(w.a)("send_pin_banner");break;default:n=d.a.fromEventType(1754),Object(w.a)("signup_unknown_placement")}var o=t.container||"container_unknown";Object(w.a)("signup.container."+o);var r=t.signupSource||"signupSource_unknown";Object(w.a)("signup.source."+r),n&&f.a.getInstance().addEvent(n);var i=document.referrer,a;a=i?-1<i.indexOf("/t.co/")?"twitter":-1<i.indexOf("google.")?"google":-1<i.indexOf("bing.")?"bing":-1<i.indexOf("facebook.")?"facebook":"other":"direct",Object(w.a)("signup_referrer."+a);var s=v.a.getQueryStringParams().referrer||Object(g.a)();Object(w.a)("signup_referrer_module."+String(s));var c=b.a.instance.user_agent_platform;"ios"===c?Object(w.a)("signup_mweb.iphone_web"):"ipad"===c?Object(w.a)("signup_mweb.ipad_web"):"android"===c&&Object(w.a)("signup_mweb.android_web");var l=t.hybridTier||"tier_unknown",u=t.page||"page_unknown",p=Object(O.b)(t);Object(w.a)("web_signup.".concat(p,".success.").concat(u,".").concat(o,".").concat(a,".").concat(l))},getResource:function e(t){return m.a.create("UserRegisterResource",t)},attemptFacebookRegistration:function e(n){return A.verifyFacebookEmailExists().then(function(e){if(!e.email)return Promise.reject({error:new Error("Email required to sign up."),socialConnectData:e});var t=A.buildFacebookRegistrationResourceOptions(e);return A.register(P({},t,n))})},verifyFacebookEmailExists:function e(){return A.fetchFacebookUserData().then(function(e){return e.email?Promise.resolve(e):Promise.reject({error:new Error("Email required to sign up."),socialConnectData:e})})},buildFacebookRegistrationResourceOptions:function e(t){return{first_name:t.first_name,last_name:t.last_name,email:t.email,gender:t.gender,image_url:t.image_url,facebook_id:t.id,facebook_token:t.access_token||"",birthday:String(Object(k.d)(t.birthday||""))}},fetchFacebookUserData:function e(){return a()().then(function(e){var t=e.default;return new Promise(function(r,i){t.ensureInit(function(o){o.getLoginStatus(function(e){if(!e.authResponse)return i(new Error("not authed"));var t,n="/me?fields="+["picture.type(large)","id","first_name","last_name","email","gender","birthday"].join(",");o.api(n,function(e){return!e||e.error?i(new Error("FB.api errored: "+e.error)):(e.picture&&e.picture.data&&e.picture.data.url&&!e.picture.data.is_silhouette&&(e.image_url=e.picture.data.url),r(e))})},!0)},E.a)})})},shouldPerformCrossDomainRegister:function e(t){return!(t.facebook_id||t.gplus_code||t.gplus_id_token||t.google_open_id_token)&&!!t.email}};t.a=A},SVkg:function(e,t,n){"use strict";t.a={request:51,requestBegin:6935,requestEnd:6936}},TbCV:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return b});var o=n("63R5");function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="_facebookConnect",a=!0,s="274266067164",p=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],c=["public_profile","email","user_likes","user_birthday","user_friends"],l=function e(t){var n=t;switch(n=n.replace(/-/g,"_")){case"de":n="de_DE";break;case"fr":n="fr_FR";break;case"it":n="it_IT";break;case"ja":n="ja_JP";break;case"nl":n="nl_NL";break;case"tr":n="tr_TR";break;case"en_AU":n="en_US";break;case"es_419":case"es_AR":n="es_LA"}return n},d=function e(t){var n;return Object(o.b)("//connect.facebook.net/".concat(l(t),"/sdk.js"),o.a.FACEBOOK).then(function(){window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})})},f=function e(){return new Promise(function(e){window.FB.getLoginStatus(e)})},g=function e(c){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,e){if("connected"===c.status){var n=c.authResponse,o,r,i={facebook_id:n.userID,facebook_token:n.accessToken,facebook_autologin:l.autologin||!1},a,s="/me?fields=".concat(p.join(","));window.FB.api(s,function(e){t({creds:i,data:u({},e,i,e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{})})})}else e({status:c.status||"unknown"})})},h=function e(){var t;return new Promise(function(e){window.FB.login(e,{scope:c.join(",")})}).then(g)},b=function e(i){return new Promise(function(o,r){window.FB.api("/me/permissions",function(e){var t=e.data;if(t){var n=t.find(function(e){return e.permission===i&&"granted"===e.status});return o({hasPerm:!!n})}return r(Error("Failed to call facebook to get permission"))})})}},UUel:function(e,t,n){"use strict";var a=n("d6ZO"),i=n.n(a),s=n("BAXv"),c=n("gVmS"),l=n("W/Cr"),u=n("gEaE");function p(e){var t=e.color,n=e.onClick,o,r=e.overrideText||l.a._("Got it","Acknowledge protected account modal message");return i.a.createElement(u.c,{accessibilityLabel:r,color:t||"gray",onClick:n,text:r})}var d=n("R6a3"),o=n("4642");function f(t){var e=l.a._("Reset password","Request a password reset email");return i.a.createElement(u.c,{accessibilityLabel:e,color:t.color||"red",inline:t.inline,onClick:function e(){Object(o.a)({usernameOrEmail:t.email,callBack:t.callBack})},text:t.overrideText||e})}var g=n("suNN");function h(e){var t=e.email,n=e.onClose,o=e.onPasswordResetSent,r=e.socialButtons;return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:l.a._("Login with Facebook or Google?","Modal accessibility label for when a user has failed login three times"),heading:l.a._("Looks like you’re having trouble logging in","Modal heading for user who have attempted to login three times"),onDismiss:n,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.b,null,a.createElement(u.K,null,Object(g.b)(l.a._("We sent an email to {{ email }} to help you get back in.",""),{email:a.createElement(u.K,{inline:!0,bold:!0,key:"emailAddress"},t)})),a.createElement(u.b,{paddingY:3},a.createElement(f,{inline:!0,color:"gray",email:t,callBack:o,overrideText:l.a._("Resend email","Button to allow the user to request a password reset email")}))),a.createElement(u.b,{marginBottom:4},a.createElement(u.K,null,l.a._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login"))),r,a.createElement(u.b,{marginTop:4},a.createElement(p,{onClick:n}))))}function b(e){var t=e.email,n=e.onClose,o=e.onPasswordResetSent,r=e.socialButtons;return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:l.a._("Login limit reached","Modal accessibility label for users who have been login rate limited"),heading:l.a._("Oops! Too fast","Modal heading for user who have been login rate limited"),onDismiss:n,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.b,{marginBottom:4,width:"100%",overflow:"hidden"},a.createElement(u.K,{inline:!0,leading:"tall"},l.a._("It looks like you’re logging in a lot. Log in with Facebook or Google if you’re connected, or reset your password. Or you can wait 30 minutes and try again.","Statement that the users is login limited"))),a.createElement(u.b,{marginBottom:4},a.createElement(u.K,null,l.a._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login"))),a.createElement(f,{email:t,callBack:o}),r,a.createElement(u.b,{marginTop:4},a.createElement(p,{onClick:n,overrideText:l.a._("I’ll wait","Button text acknowledging login rate limiting")}))))}var m=n("a993");function y(e){var t=e.email,n=e.loginWith,o=e.onClose,r=e.onPasswordResetSent,i=e.socialButtons;return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:l.a._("No matching account","Modal accessibility label for account recovery"),heading:l.a._("Oops! Something went wrong","Modal heading"),onDismiss:o,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.b,{marginBottom:6},n===m.a?a.createElement(u.K,null,l.a._("We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login")):a.createElement(u.K,null,l.a._("We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login"))),a.createElement(f,{email:t,callBack:r}),a.createElement(u.b,{marginTop:2},a.createElement(p,{onClick:o}))))}var _="?source=account_recovery";function w(e){var t=e.email,n=e.onClose,o=e.onPasswordResetSent,r=e.socialButtons,i=l.a._("Password reset email sent","Modal label for confirmation of password reset send");return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:i,heading:i,onDismiss:n,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.K,{overflow:"normal"},Object(g.b)(l.a._("We sent instructions to pick a new password to {{ email }}.","Statement that a password reset email has been sent to the user"),{email:a.createElement(u.K,{inline:!0,bold:!0,overflow:"normal",key:"emailAddress"},t)})),a.createElement(u.b,{paddingY:4},a.createElement(f,{inline:!0,color:"gray",email:t,callBack:o,overrideText:l.a._("Resend email","Button to allow the user to request a password reset email")})),a.createElement(u.b,null,a.createElement(u.b,{marginBottom:4},a.createElement(u.K,null,Object(g.b)(l.a._("Didn’t get the email? Try these {{ tips }}","Direction to help center if the password reset email failed"),{tips:a.createElement(u.t,{inline:!0,key:"helpCenterLink",target:"blank",href:s.a.GEN.templateConst.settings.HELP_PASSWORD_RESET_URL+_},a.createElement(u.K,{bold:!0,inline:!0,key:"helpCenter"},l.a._("tips from our Help Center","Link text to go to help center")))}))),a.createElement(u.b,{marginBottom:4},a.createElement(u.K,null,Object(g.b)(l.a._("Not your email address? {{ tryAgain }}","Link to password reset flow for users who make an incorrect password reset request"),{tryAgain:a.createElement(u.t,{inline:!0,key:"passwordResetLink",href:s.a.GEN.templateConst.settings.PASSWORD_RESET_URL},a.createElement(u.K,{bold:!0,inline:!0,key:"tryAgain"},l.a._("Try another","Link text to enter the password reset flow for a different email address/username")))})))),a.createElement(u.b,null,a.createElement(p,{color:"red",onClick:n}))))}function v(e){var t=e.email,n=e.onClose,o=e.onPasswordResetSent,r=e.socialButtons;return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:l.a._("Recover your account","Modal accessibility label for account recovery"),heading:l.a._("We protected your account","Modal heading for user who need to recover their accounts"),onDismiss:n,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.b,{marginBottom:4},a.createElement(u.K,{inline:!0,leading:"tall"},l.a._("We noticed some strange activity on your Pinterest account so we reset your password and logged everyone out (including you).","Statement that we detected suspicious activity"))),a.createElement(u.b,{marginBottom:4},a.createElement(u.K,null,l.a._("Reset your password or log in with Facebook or Google to get back into your account","Prompt to take action to reset password or upsell login with Facebook/Google"))),a.createElement(f,{email:t,callBack:o}),r,a.createElement(u.b,{marginTop:4},a.createElement(p,{onClick:n}))))}var r=n("oi15");function E(e){var t=e.onClose;return a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:l.a._("Login disabled for suspended account","Modal accessibility label for when a user tries to login with a suspended account"),heading:l.a._("Your account has been suspended","Modal heading for user who have attempted to login with a suspended account"),onDismiss:t,role:"alertdialog",size:"md"},a.createElement(u.b,{paddingX:6,marginBottom:4},a.createElement(u.b,{marginBottom:4},a.createElement(u.K,{inline:!0,leading:"tall"},Object(g.b)(l.a._("Your account is suspended for violating our community guidelines. We previously sent you an email explaining why and how to appeal. If you have questions, {{ help_link }}."),{help_link:a.createElement(r.a,{key:"suspended user help_link"})}))),a.createElement(u.b,{marginTop:4},a.createElement(p,{color:"red",onClick:t,overrideText:l.a._("Got it","Acknowledge suspended account modal message")}))))}var k=n("FTnl"),O=n("Q4UA"),S=n("Wcb7"),x;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?F(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return N}),n.d(t,"b",function(){return M});var N=(B(x={},s.a.API_LIMIT_EXCEEDED_ERROR,S.a.RATE_LIMITED),B(x,s.a.API_EVENT_BLOCKED_ERROR,S.a.RATE_LIMITED),B(x,s.a.USER_IN_SAFE_MODE,S.a.SOFT_BANNED),B(x,s.a.POLICY_VIOLATION_USER,S.a.SUSPENDED),B(x,s.a.LOGIN_BAD_PASSWORD_ASK_RESET,S.a.LOGIN_ASSISTANCE),B(x,s.a.LOGIN_HARD_BANNED_USER,S.a.SOFT_BANNED),B(x,s.a.RESPONSE_CODE_TOO_MANY_REQUESTS,S.a.RATE_LIMITED),x),M=function(e){function i(){var e,n;P(this,i);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return B(F(F(n=T(this,(e=j(i)).call.apply(e,[this].concat(o))))),"state",{showToast:!1}),B(F(F(n)),"dismissModal",function(){n.props.updateAccountRecoveryModal(null)}),B(F(F(n)),"showPasswordResetSent",function(){return n.props.updateAccountRecoveryModal(S.a.PASSWORD_RESET_SENT)}),B(F(F(n)),"showLoginWithFailed",function(e){e===m.a?n.props.updateAccountRecoveryModal(S.a.PREVENT_FACEBOOK_REGISTER):e===O.a&&n.props.updateAccountRecoveryModal(S.a.PREVENT_GOOGLE_REGISTER)}),B(F(F(n)),"toggleToast",function(){return n.setState(function(e){return{showToast:!e.showToast}})}),B(F(F(n)),"renderSocialButtons",function(){return a.createElement(u.b,null,a.createElement(m.b,{buttonText:l.a._("Continue with Facebook","Facebook login button text"),container:c.a.ACCOUNT_RECOVERY,disablePostSignupNextUrl:!0,onLoginWithMfa:n.props.onLoginWithMfa,onLoginWithSuspended:n.props.onLoginWithSuspended,showFallback:!0,preventRegister:n.showLoginWithFailed}),a.createElement(u.b,{marginTop:1},a.createElement(O.b,{container:c.a.ACCOUNT_RECOVERY,disablePostSignupNextUrl:!0,onLoginWithMfa:n.props.onLoginWithMfa,onLoginWithSuspended:n.props.onLoginWithSuspended,preventRegister:n.showLoginWithFailed,onLoginWithVoluntarilyDeactivated:function e(t){n.dismissModal(),n.props.onLoginWithVoluntarilyDeactivated&&n.props.onLoginWithVoluntarilyDeactivated(t)}})))}),n}return I(i,e),R(i,[{key:"render",value:function e(){var t=this.props,n=t.email,o=t.modalType,r={email:n,onClose:this.dismissModal,onPasswordResetSent:this.showPasswordResetSent,socialButtons:this.renderSocialButtons()};switch(o){case S.a.SUSPENDED:return a.createElement(E,{onClose:this.dismissModal});case S.a.LOGIN_ASSISTANCE:return a.createElement(h,r);case S.a.RATE_LIMITED:return a.createElement(b,r);case S.a.SOFT_BANNED:return a.createElement(v,r);case S.a.PREVENT_FACEBOOK_REGISTER:return a.createElement(y,Object.assign({},r,{loginWith:m.a}));case S.a.PREVENT_GOOGLE_REGISTER:return a.createElement(y,Object.assign({},r,{loginWith:O.a}));case S.a.PASSWORD_RESET_SENT:return a.createElement(a.Fragment,null,a.createElement(w,Object.assign({},r,{onPasswordResetSent:this.toggleToast})),this.state.showToast&&a.createElement(u.b,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed"},a.createElement(k.a,{onHide:this.toggleToast,text:l.a._("Email sent!"),duration:3500})));default:return null}}}]),i}(a.Component)},UVpX:function(e,t,n){"use strict";var r=n("hVsM"),i=n("SnoN"),a=n("BVzu"),s=n("kqYA"),c=n("ZIw6"),l=n("/e0Y"),u=n("W/Cr"),p=n("85jk"),d=n("EAiy"),f="publish_actions",g={checkFbTimelinePermission:function(r){var e=function e(t){t.api("/me/permissions",function(e){var t=e.data,n=!1,o;t&&(n=!!t.find(function(e){return e.permission===f&&"granted"===e.status}));n?r.success&&r.success():r.error&&r.error()})};s.default.ensureInit(e,d.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;var n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(n,o){s.default.ensureInit(function(e){var t;if(!g.fbConnectedAccountMatchesLoggedInAccount(e,o))return a.default.showError(u.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),n.error&&n.error(),void(n.complete&&n.complete());g.checkFbTimelinePermission({success:function e(){n.success&&n.success(),n.complete&&n.complete()},error:function e(){g.fbLogin(n)}})},d.a)},fbLogin:function(t){s.default.ensureInit(function(e){e.login(function(e){e.authResponse?g.checkFbTimelinePermission(t):t.error&&t.error(),t.complete&&t.complete()},{scope:f})},d.a)},shareFb:function(t){var e=t.ga_category||"share_facebook";l.a.trackEvent(e,"click");var n=t.dialog_options||{};n.callback=function(){var e=r.a.fromEventType(1300);t.object_id&&e.setObjectIdStr(t.object_id),i.a.getInstance().addEvent(e)};var o=n.object_type;o&&Object(p.a)("facebook_share_dialog_open_"+o),c.default.open(n)},getLocaleString:function(e){var t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US";break;case"es_419":case"es_AR":t="es_LA"}return t}};t.a=g},VfQf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("85jk"),o=function e(t,n,o){Object(r.c)("unauth.magic_link_login.".concat(t),{has_email_data:!!n,has_password_data:!!o})},i=void 0},XzpH:function(e,t,n){"use strict";t.a=u;var o=n("d6ZO"),a=n.n(o),r=n("IaRT"),i=n.n(r);function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){c(t,e,n[e])})}return t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={invisibleWrapper:{top:"0px",width:"215px"},message:{background:"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:"#000",fontStyle:"normal",fontWeight:"normal",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},suggestionTooltipMessage:{boxShadow:"none",background:"#E2780D",color:"#fff",fontSize:"14px",WebkitBoxShadow:"none"},text:{overflowWrap:"break-word",wordWrap:"break-word"}};function u(e,t){var n="Tooltip_wrapper",o="Tooltip_message";e.isSuggestionTooltip&&(o="Tooltip_suggestionMessage"),t.userAgent.isMobile&&(n="Tooltip_mobileWrapper",o="Tooltip_mobileMessage");var r=s({},l.invisibleWrapper,e.customWrapperStyles),i=e.isSuggestionTooltip?s({},l.message,l.suggestionTooltipMessage):l.message;return a.a.createElement("div",{className:n,"data-test-id":"tooltip",style:r},a.a.createElement("div",{className:o,style:i},e.children?a.a.createElement("span",{style:l.text},e.children):a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.message},style:l.text})),a.a.createElement("div",null))}u.contextTypes={message:i.a.string,userAgent:i.a.shape({isMobile:i.a.bool.isRequired}).isRequired}},ZIw6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("WjSu"),u=n("kqYA"),r=n("yJ1G"),p=n.n(r),i=n("THYI"),d=n.n(i),f=n("FJZF"),g=n("EAiy"),a=20,h=580,b=400;function m(){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1)t[n].parentNode.removeChild(t[n]);return e[0]}}var y={open:function e(r){var i=p()(r,y._validParams),t=y._getDialogType(r),a=y.generateFbRef(),s=r.object_type&&r.object_id&&"feed"===t,n=f.a.absolutify(r.path),o=f.a.getQueryStringParams();if(o.ptrf&&(n=f.a.appendQueryString(n,{ptrf:o.ptrf})),s&&(n=f.a.appendQueryString(n,{fb_ref:a})),i.method=t,"feed"===i.method){var c=y.getWindowOptions(r.width||h,r.height||b),l="http://www.facebook.com/sharer/sharer.php?u="+n;i.picture&&(l+="&picture="+i.picture),i.name&&(l+="&title="+i.name),i.description&&(l+="&description="+i.description),i.caption&&(l+="&caption="+i.caption),window.open(encodeURI(l),"sharer",c)}else"send"===i.method?i.link=n:"share"===i.method&&(i.href=n),u.default.ensureInit(function(o){o.getLoginStatus(function(){if("send"===i.method){o.ui(i);var e=10,t,n=setInterval(function(){!(t=m())&&e||(clearInterval(n),t&&y.executeMessengerCallback(t,r.callback)),e-=1},1e3)}else"share"===i.method&&o.ui(i,function(e){if(s&&e&&e.post_id){var t=d.a.create("LogFacebookFeedShare",{});t.options={object_type:r.object_type,object_id:r.object_id,fb_ref:a},t.callCreate({showError:!1})}r.callback&&r.callback(e)})})},g.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function e(t,n){var o=10,r=setInterval(function(){var e;"0px"!==t.style.width&&o||(clearInterval(r),t.style.width="575px"),o-=1},1e3);n&&n()},generateFbRef:function e(){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return(g.a.id||o.a.instance.unauth_id)+":"+t},_getDialogType:function e(t){var n,o;return y._validOptions.includes(t.type)?t.type:"feed"},getWindowOptions:function e(t,n){var o=t||h,r=n||b,i=screen.width,a=screen.height,s,c;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+o+",height="+r+",left="+Math.round((i-o)/2)+",top="+(r<a?Math.round((a-r)/2):0)}};t.default=y},a993:function(e,t,n){"use strict";var o=n("d6ZO"),f=n.n(o),r=n("DUIN"),i=n("OIxG"),g=n("/2tF"),d=n("BAXv"),a=n("UVpX"),s=n("l6Jx"),y=n("W/Cr"),h=n("5JMz"),_=n("Wcb7"),c=n("IaRT"),l=n.n(c),u=n("/4D9"),p=n.n(u),b=n("Cjb7"),m=n("KtTI"),w=n("FGUD");function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var O=function(){function e(){v(this,e)}return k(e,[{key:"connect",value:function e(t,a){var n=this;if(window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&n.complete(e.data)}),a.rerequest_facebook_email)p()().then(function(e){var t;e.default.ensureInit(function(e){e.login(function(e){var t=e.authResponse,n,o;t&&((n=t.grantedScopes)&&(n=n.split(",")),o=t.userID);var r=-1<n.indexOf("email"),i={id:o};"connected"===e.status&&r?a.success(i):a.error(i),a.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},m.a)});else{var o=this.getWindowOptions(),r=window.open("/connect/"+t+"/","",o);if(!r)return Object(w.a)(y.a._("You must enable popups!")),void a.error({network:t,alertedUpstream:!0});var i=setInterval(function(){r.closed&&(clearInterval(i),n.handleComplete({network:t,error_message:"Window closed."}))},1e3);b.a.instance.subscribe("site","socialConnectCompleted",function(e,t,n){clearInterval(i),n.error_message?a.error(n):a.success(n),"complete"in a&&a.complete()})}}},{key:"getWindowOptions",value:function e(){var t=580,n=400,o=screen.width,r=screen.height,i,a;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=580,height=400,left="+Math.round((o-t)/2)+",top="+(n<r?Math.round((r-n)/2):0)}},{key:"complete",value:function e(t){this.handleComplete(t)}},{key:"handleComplete",value:function e(t){var n;if("facebook"===t.network){var o=t.id;o&&"string"!=typeof o&&(t.error_message="Facebook id must be of string type")}b.a.instance.publish("site","socialConnectCompleted",t)}}]),e}(),S=n("XzpH"),x=n("SCJe"),C=n("+J0N"),P=n("MQ2h"),L=n.n(P),R=n("vQM4"),T=n("gEaE"),j=n("zF3j"),I=n("+B8E"),A=n("kzic"),F=n("85jk"),B=n("y2lE"),N=n("ok+N"),M=n("+QQJ"),W=n("TbCV"),U=n("63R5");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){J(t,e,n[e])})}return t}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function K(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?X(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return $});var Z={button:{backgroundClip:"padding-box",backgroundColor:"#4267b2",borderRadius:"2px",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:"absolute",textAlign:"left",transition:"opacity .2s linear",width:"100%"},container:{position:"relative"},tooltip:{top:"12px",left:"100%",position:"absolute"},icon:{display:"inline-block",margin:"8px"},text:{color:"#fff",display:"inline-block",fontFamily:R.b,fontSize:"15px",fontWeight:"bold",letterSpacing:"normal",lineHeight:"16px",paddingLeft:"4px",paddingTop:"1px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"88%"},fbProfileButton:{height:"40px",textAlign:"left"}},$="facebook",ee=18,te=function(e){function r(){var e,m;V(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return J(X(X(m=K(this,(e=Y(r)).call.apply(e,[this].concat(n))))),"getContainerName",function(){var e;return window.fbConnectButtonContainerStack&&window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]&&(e=window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]),e}),J(X(X(m)),"profilePicButtonConnectSuccess",function(e){var t=m.props,n=t.container,o=t.handlePostSuccessConnect,r=t.isAccountSwitch,i=t.loadingIndicatorCallback,a=t.onLoginWithMfa,s=t.onLoginWithSuspended,c=t.preventRegister,l=t.seoUnauthExperiments;i&&i(!0);var u={facebook_id:e.userID,facebook_token:e.accessToken},p={container:m.getContainerName(),hybridTier:m.context.hybridTier,page:m.context.pageType};Object(h.a)(u,p,l,r).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(r&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var t=e.resource_response.data.user;Object(C.b)(t,$,n)}Object(F.d)("login.facebook"),m.contextLogSignupLoginEvent(7536),m.navigateAfterLogin(),o&&o()},function(e){if(m.contextLogSignupLoginEvent(7535),e.api_error_code===d.a.LOGIN_MFA_REQUIRED)i&&i(!1),Object(F.d)("login.facebook"),a&&a(u,e.data);else if(e.api_error_code===d.a.LOGIN_USER_NOT_FOUND||e.api_error_code===d.a.FACEBOOK_ACCOUNT_NOT_LINKED){if(c)return void c($);m.profilePicButtonRegisterWithFacebook(e,u,p)}else e&&e.api_error_code&&Object(F.a)("facebook_button.failed_login_".concat(e.api_error_code)),e&&e.api_error_code===d.a.POLICY_VIOLATION_USER&&s?s():Object(w.a)(y.a._("Sorry, we can't log you in."))}),m.contextLogSignupLoginEvent(7534)}),J(X(X(m)),"statusChangeCallback",function(e){var t="";t="connected"===e.status?(m.profilePicButtonConnectSuccess(e.authResponse),"success"):"not_authorized"===e.status?(Object(F.a)("web.facebook_connect_button.cancel.not_authorized"),Object(w.a)(y.a.commonStrings.connectError),"not_authorized"):(Object(F.a)("web.facebook_connect_button.cancel.unknown"),Object(w.a)(y.a.commonStrings.connectError),"other_error");var n=m.props.handlePostConnectClick;n&&n(t)}),J(X(X(m)),"handleConnectClick",function(){Object(F.a)("fallback_facebook_button.click");var e=new O;return Object(F.d)("login.facebook_connect.attempt"),e.connect(M.a.FACEBOOK,{success:function e(t){m.onFacebookConnectSuccess(t)},error:function e(t){t.alertedUpstream||Object(w.a)(y.a.commonStrings.connectError)},rerequest_facebook_email:m.rerequestFacebookEmail}),!1}),J(X(X(m)),"profilePicButtonRegisterWithFacebook",function(t,o,r){var e=m.context.country,n=m.props,i=n.disablePostSignupNextUrl,a=n.loadingIndicatorCallback,s=n.nextUrlParam,c=n.onFBEmailDeniedPerm,l=n.onSocialConnectVerified,u=n.requestContext,p=n.showSignupWelcomeLoadingFn,d=n.showResponseMessageModal,f=function e(){a&&a(!1),t?(m.contextLogSignupLoginEvent(7488),Object(w.a)(y.a._("Email required for registration.")),window.FB.login(function(e){this.statusChangeCallback(e)},{auth_type:"rerequest",scope:W.a.join(",")})):m.navigate("/join/register/facebook/")},g=function n(e){e.socialConnectData.email?f():Object(W.b)("email").then(function(e){var t;!e.hasPerm&&n?c():f()},f)},h=function e(t){m.contextLogSignupLoginEvent(7487);var n=m.props.showResponseMessageModal;n?n(!0):_.b.handleSignupRedirect(s,i)},b=Object(M.d)(e)||Object(M.c)(e);l&&b?x.a.verifyFacebookEmailExists().then(function(e){if(e.birthday&&Object(j.f)(e.birthday,18)){var t=new I.c(u,"web_unauth_fb_welcome_v2").enabled();u.experiments._queuedResource&&u.experiments._queuedResource.flush(),!d&&p&&t&&p(!0),x.a.attemptFacebookRegistration(Object.assign({},o,r)).then(h,g),m.contextLogSignupLoginEvent(7537)}else{a&&a(!1);var n=Object.assign({},o,r);l(M.a.FACEBOOK,e,n)}},g):x.a.attemptFacebookRegistration(G({},o,r)).then(h,g)}),J(X(X(m)),"registerWithFacebook",function(n,t){var e=m.context.country,o=m.props,r=o.disablePostSignupNextUrl,i=o.nextUrlParam,a=o.onSocialConnectVerified,s=function e(t){m.props.loadingIndicatorCallback&&m.props.loadingIndicatorCallback(!1),n?(m.contextLogSignupLoginEvent(7488),m.rerequestFacebookEmail=!0,Object(w.a)(y.a._("Email required for registration."))):m.navigate("/join/register/facebook/")},c=function e(){m.contextLogSignupLoginEvent(7487);var t=m.props.showResponseMessageModal;t?t(!0):_.b.handleSignupRedirect(i||window.location.pathname,r)};a&&Object(M.d)(e)?x.a.verifyFacebookEmailExists().then(function(e){a(M.a.FACEBOOK,e,t)},s):(x.a.attemptFacebookRegistration(t).then(c,s),m.contextLogSignupLoginEvent(7537))}),J(X(X(m)),"navigateAfterLogin",function(){var e=m.props.showResponseMessageModal;e?e(!0):_.b.handleRedirect(m.props.nextUrlParam||window.location.pathname)}),J(X(X(m)),"renderTooltip",function(e){return e?m.props.useGestaltTooltip?f.a.createElement(s.a,{anchor:m._fallbackButton,message:e}):f.a.createElement("div",{style:Z.tooltip},f.a.createElement(S.a,{message:e})):null}),m}return H(r,e),q(r,[{key:"componentDidMount",value:function e(){var t=this;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=this.checkLoginState,window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);var n=this.context.userAgent;n.isMobile&&"ios"!==n.platform&&"ipad"!==n.platform?setTimeout(function(){window.__branchRedirectToStore||!window.__branchPinterestStarted?t.initializeFB():window.onbeforeunload=function(){window.__branchRedirectToStore&&t.initializeFB()}},50):this.initializeFB(),this.props.isRerequest&&(this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),this.props.showSignupWelcomeLoadingFn&&this.props.showSignupWelcomeLoadingFn(!1))}},{key:"componentDidUpdate",value:function e(){window.nextUrlParam=this.props.nextUrlParam}},{key:"componentWillUnmount",value:function e(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){var t=window.fbConnectButtonContainerStack.indexOf(this.props.container);0<=t&&window.fbConnectButtonContainerStack.splice(t,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}},{key:"onFacebookConnectSuccess",value:function e(t){var n=this,o=this.props,r=o.preventRegister,i=o.container;Object(F.d)("login.facebook_connect.success");var a={facebook_id:t.id,facebook_token:t.access_token},s={container:i,hybridTier:this.context.hybridTier,page:this.context.pageType};Object(h.a)(a,s,this.props.seoUnauthExperiments).then(function(){Object(F.d)("login.facebook"),n.contextLogSignupLoginEvent(7536),n.navigateAfterLogin()},function(e){if(n.contextLogSignupLoginEvent(7535),e.api_error_code===d.a.LOGIN_MFA_REQUIRED)Object(F.d)("login.facebook"),n.props.onLoginWithMfa&&n.props.onLoginWithMfa(a,e.data);else if(e.api_error_code===d.a.LOGIN_USER_NOT_FOUND||e.api_error_code===d.a.FACEBOOK_ACCOUNT_NOT_LINKED){if(r)return void r($);n.registerWithFacebook(e,s)}else e&&e.api_error_code&&Object(F.a)("facebook_button.failed_login_".concat(e.api_error_code)),e.api_error_code===d.a.POLICY_VIOLATION_USER&&n.props.onLoginWithSuspended?n.props.onLoginWithSuspended():Object(w.a)(y.a._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc."))}),this.contextLogSignupLoginEvent(7534)}},{key:"initializeFB",value:function e(){var i=this;if(null!==this.profilePicButton){var t=(this.props.seoUnauthExperiments.v2ActivateExperiment("web_external_script_loader_with_wait")||"").startsWith("enabled");void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():t?Object(U.b)("//connect.facebook.net/"+a.a.getLocaleString(this.context.locale)+"/sdk.js",U.a.FACEBOOK,!0).then(function(){window.FB.init({appId:d.a.GEN.templateConst.settings.FACEBOOK_API_KEY,status:!0,xfbml:!0,version:"v2.7"})}):(window.fbAsyncInit=function(){window.FB.init({appId:d.a.GEN.templateConst.settings.FACEBOOK_API_KEY,status:!0,xfbml:!0,version:"v2.7"})},function(e,t,n){var o=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var r=e.createElement(t);r.id=n,r.src="//connect.facebook.net/"+a.a.getLocaleString(i.context.locale)+"/sdk.js",o.parentNode&&o.parentNode.insertBefore(r,o)}}(document,"script","facebook-jssdk"))}}},{key:"checkLoginState",value:function e(){window.FB.getLoginStatus(function(e){this.statusChangeCallback(e)})}},{key:"contextLogSignupLoginEvent",value:function e(t){var n=this.props,o=n.contextLog,r=n.viewer;r.isAuth?o(t,{login_state:r.isLimitedLogin?2:1,signup_login_method:2}):o(t,{signup_login_method:2})}},{key:"login",value:function e(t){var n=this;return Object(h.a)(t,{container:"fbconnectbtn"},this.props.seoUnauthExperiments).then(function(){n.navigateAfterLogin()})}},{key:"renderProfilePicButtonWithFallback",value:function e(){var n=this,t=this.props.showFallback,o=this.props,r=o.type,i=o.isRerequest,a='<div class="fb-login-button" '+'data-scope="'.concat(W.a.join(","),'" ')+'onlogin="checkLoginState"'+'data-button-type="'.concat("login"===r?"login_with":"continue_with",'" ')+'data-use-continue-as="'.concat("login"===r?"false":"true",'" ')+'data-width="'.concat("268px",'"')+'data-size="large"></div>',s='<div class="fb-login-button" '+'data-scope="'.concat(W.a.join(","),'" ')+'onlogin="checkLoginState"'+'data-button-type="'.concat("login"===r?"login_with":"continue_with",'" ')+'data-use-continue-as="'.concat("login"===r?"false":"true",'" ')+'data-width="'.concat("268px",'"')+'data-auth-type="rerequest"data-size="large"></div>',c=this.props,l=c.buttonText,u=c.inline,p=Z.button;u&&(p=G({},p,{width:"48%",display:"inline-block"})),t&&(p=G({},p,{position:"relative"}));var d=Z.fbProfileButton;return f.a.createElement("div",{ref:function e(t){n._fallbackButton=t}},f.a.createElement(g.a,{className:"FacebookConnectButton",onClick:this.handleConnectClick,styleOverrides:p,type:"button"},f.a.createElement(T.n,{accessibilityLabel:y.a._("facebook","accessible label for facebook icon"),color:"white",icon:"facebook",inline:!0,size:24}),f.a.createElement("span",{style:Z.text},l)),!t&&f.a.createElement("div",{dangerouslySetInnerHTML:{__html:i?s:a},ref:function e(t){n.profilePicButton=t},style:d}))}},{key:"render",value:function e(){return f.a.createElement("div",{style:Z.container},this.renderProfilePicButtonWithFallback(),this.renderTooltip(this.props.tooltip))}}]),r}(o.Component);J(te,"contextTypes",{country:l.a.string,locale:l.a.string.isRequired,userAgent:l.a.shape({browserName:l.a.string.isRequired,isMobile:l.a.bool.isRequired,platform:l.a.string.isRequired,raw:l.a.string.isRequired}).isRequired,hybridTier:l.a.string,pageType:l.a.string}),J(te,"defaultProps",{inline:!1});var ne=function e(t){return{viewer:t.viewer}},oe=t.b=Object(P.compose)(i.b,Object(r.connect)(ne),N.b,A.withRouter,B.a)(te)},hSTm:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(220).then(function(e){t(n("/+lb"))}.bind(null,n)).catch(n.oe)})}},kqYA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("YlIK"),r=n("mIxQ"),i=n.n(r),a=n("THYI"),s=n.n(a),c=n("/+lb"),l=n("EAiy"),u=n("63R5"),p=!1,d={ensureInit:function e(t){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l.a,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"en_US";if(r)Object(u.b)("//connect.facebook.net/".concat(i,"/sdk.js"),u.a.FACEBOOK,!0).then(function(){n._fbCallback(t,o)});else{var a="fb";c.default.load([],"//connect.facebook.net/".concat(i,"/sdk.js"),a),c.default.ready(a,function(){n._fbCallback(t,o)})}},_fbCallback:function e(t,n){var o=window.FB;o&&(p||(o.init({appId:i.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",function(e){d.refreshAccessToken(n)}),p=!0),t(o))},ensureLoggedIn:function e(t,n){d.ensureInit(function(e){d.logIn(e,t)},n)},logIn:function e(t,n){t&&(t.getUserID()?n(t):t.login(function(){n(t)}))},refreshAccessToken:function e(t){t.isAuthenticated()&&t.attributes.facebook_id&&!t.isLimitedLogin()&&d.ensureInit(function(e){if(e.getUserID()){var t=e.getAccessToken(),n;if(t)s.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)},injectTrackingPixel:function e(t){!function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",t,{value:"0.00",currency:"USD"}])}};t.default=o.a.expose("Facebook",d)},l6Jx:function(e,t,n){"use strict";var o=n("d6ZO"),r=n.n(o),i=n("IaRT"),a=n.n(i),s=n("gEaE");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var m={tooltipText:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}},y=function(e){function o(e,t){var n;return l(this,o),(n=d(this,g(o).call(this,e,t))).state={tooltipIsOpen:!!e.message},n}return h(o,e),p(o,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.message!==this.props.message&&this.setState({tooltipIsOpen:!!t.message})}},{key:"render",value:function e(){var t=this,n=this.props.message;return this.state.tooltipIsOpen?r.a.createElement(s.k,{anchor:this.props.anchor,color:"darkGray",idealDirection:"right",onDismiss:function e(){return t.setState({tooltipIsOpen:!0})},shouldFocus:!1,size:"md"},r.a.createElement(s.b,{column:12,padding:3},this.props.children?r.a.createElement("span",{style:m.text},this.props.children):r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n},style:m.tooltipText}))):null}}]),o}(o.Component);t.a=y},mh3e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("d6ZO"),f=n.n(o),r=n("DUIN"),g=n("W/Cr"),a=n("sXYb"),h=n("6SRG"),i=n("IaRT"),s=n.n(i),b=n("dZgC"),c=n("85jk"),l=n("MQ2h"),u=n.n(l),m=n("suNN"),p=n("kzic");function d(e){return e.isAuth&&e.isLimitedLogin}function y(e){return e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected}function _(e){return e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected}function w(e){return!(e.hasPassword||_(e)||y(e))}var v=n("XELL"),E=n("gEaE");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"PersonalizedLoginFlyout",function(){return A});var I={profilePic:{margin:"0 auto 16px",width:"108px"}},A=function(e){function i(){var e,t;O(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return j(T(T(t=C(this,(e=P(i)).call.apply(e,[this].concat(o))))),"state",{isLoading:!1,password:"",showPersonalizedFlyout:!1,displayUserInfo:t.props.inLimitedLoginPersonalizedFlyoutExp?t.props.limitedLoginUserInfo:t.props.userInfo}),j(T(T(t)),"onPasswordChange",function(e){t.setState({password:e.target.value})}),j(T(T(t)),"getUnauthPersonalizedExpGroup",function(){return t.props.seoUnauthExperiments.v2ActivateExperiment("web_unauth_personalized_flyout")||""}),j(T(T(t)),"toggleLoadingIndicator",function(e){t.setState({isLoading:e})}),j(T(T(t)),"track",function(e){Object(c.a)("unauth_web.personalized_flyout.".concat(e))}),j(T(T(t)),"hideFlyout",function(){t.setState({showPersonalizedFlyout:!1})}),j(T(T(t)),"handleNotYouTouch",function(e){e.event.preventDefault(),t.track("not_you.click"),t.hideFlyout(),t.props.triggerModal(v.b.login)}),j(T(T(t)),"handlePreventRegisterFromPersonalizedFlyout",function(e){t.track("prevent_register.".concat(e)),t.hideFlyout(),t.props.triggerModal(v.b.signup)}),t}return L(i,e),x(i,[{key:"componentDidMount",value:function e(){this.context.isBot||(this.setPersonalizedInfo(this.props.userInfo),this.props.inLimitedLoginPersonalizedFlyoutExp&&this.setShowPersonalizedFlyout())}},{key:"componentDidUpdate",value:function e(t){this.props.userInfo!==t.userInfo&&this.setPersonalizedInfo(this.props.userInfo),this.props.shouldHideFlyout&&this.state.showPersonalizedFlyout&&this.hideFlyout()}},{key:"setShowPersonalizedFlyout",value:function e(){this.setState({showPersonalizedFlyout:!0}),this.props.willShowPersonalizedFlyout&&this.props.willShowPersonalizedFlyout()}},{key:"setPersonalizedInfo",value:function e(t){t&&0<Object.keys(t).length&&!this.state.showPersonalizedFlyout&&(this.track("has_user_info"),this.setState({displayUserInfo:this.props.inLimitedLoginPersonalizedFlyoutExp?this.props.limitedLoginUserInfo:t}),this.getUnauthPersonalizedExpGroup().startsWith("enabled")&&this.setShowPersonalizedFlyout())}},{key:"renderLoadingIndicator",value:function e(){return this.state.isLoading?f.a.createElement(a.a,null):null}},{key:"render",value:function e(){var t=this;if(this.context.isBot)return null;var n=this.props,o=n.handleLoginWithMfa,r=n.inLimitedLoginPersonalizedFlyoutExp,i=n.passwordValidationError,a=n.viewer,s=this.state,c=s.displayUserInfo,l;if(!s.showPersonalizedFlyout)return null;var u=a&&r&&w(a),p=Object(m.b)(g.a._("Welcome back, {{name}}!","Title text on personalized login flyout modal which appears on page load for previously-logged-in users"),{name:c?c.first_name:""}),d=g.a._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account");return f.a.createElement(E.b,{color:"white",direction:"column",display:"flex",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px 0 rgba(0, 0, 0, 0.1)",border:"solid 1px rgba(0, 0, 0, 0.04)",transition:"margin-right 250ms cubic-bezier(0.0,0.0,0.2,1)",marginRight:"20px",marginTop:this.props.isShowEUCookieBar?"52px":"16px",zIndex:"700"}},padding:6,position:"fixed",right:!0,shape:"rounded",width:320,top:!0},this.renderLoadingIndicator(),f.a.createElement(E.b,{alignItems:"center"},f.a.createElement(E.b,{marginBottom:3,maxWidth:250,marginRight:2,marginLeft:2},f.a.createElement(E.K,{bold:!0,size:"xl",align:"center",overflow:"normal"},p)),f.a.createElement("div",{style:I.profilePic},f.a.createElement(E.a,{src:c?c.medium_image_url:"",name:c?c.first_name:""})),f.a.createElement(E.b,{marginBottom:3},f.a.createElement(E.K,{size:"md",align:"center"},c?c.email:"")),f.a.createElement(E.b,{position:"absolute",padding:2,top:!0,right:!0},f.a.createElement(E.o,{accessibilityLabel:g.a._("Close","accessible label for close button"),icon:"cancel",onClick:this.hideFlyout,size:"xs"}))),f.a.createElement(E.b,{marginTop:1},f.a.createElement(b.b,null,function(e){return f.a.createElement(h.a,{requestContext:e,container:t.props.container,disablePostSignupNextUrl:!0,email:c?c.email:"",loginButtonTextOverride:g.a._("Continue","Log in button for users who have an account and have returned as a logged-out user"),hideEmailField:!0,hidePasswordField:!!c&&!c.has_password&&!u,hideFacebookButton:!!c&&!c.connected_to_facebook&&!u,hideGoogleButton:!!c&&!c.connected_to_google&&!u,hidePasswordReset:!0,hideTermsOfService:!0,isPersonalizedLoginFlyout:!0,loadingIndicatorCallback:t.toggleLoadingIndicator,onLoginWithMfa:o,onPasswordChange:t.onPasswordChange,password:t.state.password,passwordValidationError:i,shouldPreventRegister:!0,triggerAccountRecoveryMode:t.handlePreventRegisterFromPersonalizedFlyout})})),f.a.createElement(E.b,{marginTop:3},f.a.createElement(E.O,{fullWidth:!1,onTouch:this.handleNotYouTouch},f.a.createElement(E.K,{size:"sm",align:"center"},f.a.createElement(E.t,{href:"/login"},d)))))}}]),i}(o.Component),F=function e(t){var n=t.euCookieBar,o=t.loggedOutUserInfo,r=t.viewer;return{limitedLoginUserInfo:{connected_to_facebook:r.isAuth&&y(r),connected_to_google:r.isAuth&&_(r),email:r.isAuth?r.email:"",first_name:r.isAuth?r.firstName:"",has_password:r.isAuth&&r.hasPassword,medium_image_url:r.isAuth?r.imageXLargeUrl:""},isShowEUCookieBar:n&&n.isShowEUCookieBar,userInfo:o?o.userInfo:{},viewer:r}};A.contextTypes={isBot:s.a.bool};var B=t.default=Object(l.compose)(p.withRouter,Object(r.connect)(F))(A)},mjwP:function(e,t,n){"use strict";var l=n("d6ZO"),o=n.n(l),u=n("BAXv"),p=n("W/Cr"),r=n("4642"),d=n("rgtM"),i=n("85jk"),f=n("suNN"),g=n("gEaE"),h=function e(t,n,o){return l.createElement("button",{style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",onClick:function e(){Object(i.a)("unauth_password_reset_link_tapped"),Object(r.a)({usernameOrEmail:n,callBack:o})}},l.createElement(g.K,{bold:!0,inline:!0,color:"orange",size:"sm",key:"err_text"},t))};t.a=function(e){var t=e.api_error_code,n=e.errorMessage,o=e.handleTouch,r=e.source,i=e.userSearch,a=e.seoUnauthExperiments,s=function e(t){return h(t,i,o)},c=function(e){switch(e){case u.a.API_EVENT_BLOCKED_ERROR:case u.a.API_LIMIT_EXCEEDED_ERROR:case u.a.RESPONSE_CODE_TOO_MANY_REQUESTS:return Object(f.b)(p.a._("You’ve entered a lot of incorrect passwords. To get back into your account, {{ resetPasswordLink }}. Or you can wait 30 minutes and try again.","Error message when login limited"),{resetPasswordLink:s(p.a._("reset your password","Link text for password reset"))});case u.a.LOGIN_HARD_BANNED_USER:case u.a.USER_IN_SAFE_MODE:return Object(f.b)(p.a._("We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.","Error message when user is soft banned"),{resetPasswordLink:s(p.a._("Reset your password","Link text for password reset"))});case u.a.INVALID_PASSWORD_GOOGLE_USER:return Object(f.b)(p.a._("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:s(p.a._("set a password.","Link text to set password for user with account with only google auth"))});case u.a.INVALID_PASSWORD_FB_USER:return Object(f.b)(p.a._("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:s(p.a._("set a password.","Link text to set password for user with account with only facebook auth"))});case u.a.INVALID_PASSWORD_ERROR_CODE:return"emailPasswordStep"!==r||(a.v2ActivateExperiment("web_unauth_password_reset_consistent_text")||"").startsWith("enabled")?Object(f.b)(p.a._("The password you entered is incorrect. Try again or {{ resetPasswordLink }}"),{resetPasswordLink:s(p.a._("Reset your password","Link text for password reset"))}):Object(f.b)(p.a._("Oops, that email’s taken or your password’s incorrect. {{ resetPasswordLink }}"),{resetPasswordLink:s(p.a._("Reset it?","Link text for password reset"))});default:return[n]}}(t);return l.createElement(d.a,{id:"touchableErrorMessage"},c.map(function(e,t){return l.createElement(g.K,{inline:!0,color:"orange",size:"sm",key:"err_message_".concat(t)},e)}))}},o4o0:function(e,t,n){"use strict";var C=n("d6ZO"),o=n.n(C),r=n("OIxG"),s=n("/2tF"),p=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"],P=n("W/Cr"),d=function(e,t){var n=t.split("@");if(0===e.length)return n[1].length;if(0===n[1].length)return e.length;var o=[],r,i;for(r=0;r<=n[1].length;r+=1)o[r]=[r];for(i=0;i<=e.length;i+=1)o[0][i]=i;for(r=1;r<=n[1].length;r+=1)for(i=1;i<=e.length;i+=1)n[1].charAt(r-1)===e.charAt(i-1)?o[r][i]=o[r-1][i-1]:o[r][i]=Math.min(o[r-1][i-1]+1,Math.min(o[r][i-1]+1,o[r-1][i]+1));return o[n[1].length][e.length]},i=n("THYI"),a=n.n(i),L=n("+XcA"),f=n("85jk"),c=n("MQ2h"),l=n.n(c),g=n("suNN"),h=n("+B8E"),b=n("VfQf"),u=n("ok+N"),R=n("gEaE");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){x(t,e,n[e])})}return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={captcha:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"},signupButton:{width:"100%"},wrapperVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"flex",opacity:1,alignItems:"center",justifyContent:"space-between",height:"100%"},wrapperHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0}},I=function(e){function r(){var e,u;y(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return x(S(S(u=v(this,(e=E(r)).call.apply(e,[this].concat(n))))),"state",{domainError:"",newEmail:"",showAgeInput:u.props.showAgeInput}),x(S(S(u)),"updateEmail",function(){u.state.newEmail&&(u.props.onEmailChange({target:{value:u.state.newEmail}}),Object(f.a)("unauth.email_domain_typo_suggestion.clicked"))}),x(S(S(u)),"inHideAgeInputExistingEmailWithCopyExp",function(){return new h.a(u.props.requestContext,"web_unauth_hide_age_existing_email_v2").check("enabled_with_copy")}),x(S(S(u)),"handleEmailBlur",function(){var e=u.props,t=e.checkEmailExistsWithCompletion,n=e.email,o=e.inHideAgeInputExistingEmailExp,r=e.onEmailBlur,i=e.setWelcomeBackMessageForExistingEmail;r&&r(),n&&0<n.length&&o&&t&&t(n,function(){u.setState({showAgeInput:!1}),u.inHideAgeInputExistingEmailWithCopyExp()&&i&&i(!0)},function(){u.setState({showAgeInput:!0}),u.inHideAgeInputExistingEmailWithCopyExp()&&i&&i(!1)});var a=n&&-1!==n.indexOf("@")?n.split("@"):[];if(n&&n!==u.state.newEmail||u.setState({domainError:""}),n&&a&&n.length<60){var s=a[1]&&p.includes(a[1])?null:a[1]&&p.map(function(e){var t=d(e,n);return 2===t||1===t?e:null}).filter(function(e){return"string"==typeof e});if(s&&s.length){var c=s[0]?"".concat(a[0],"@").concat(s[0]):"",l=Object(g.b)(P.a._("Did you mean {{ newEmail }}?"),{newEmail:C.createElement(R.K,{bold:!0,inline:!0,color:"orange",size:"sm",key:"err_text"},c)});u.setState({domainError:l,newEmail:c}),n===c?u.setState({domainError:""}):Object(f.a)("unauth.email_domain_typo_suggestion.shown")}}}),x(S(S(u)),"renderDefaultLoginButton",function(e,t){var n=u.props,o=n.email,r=n.buttonText,i=n.buttonTextLabel,a=n.password;return C.createElement("div",{"data-test-id":"registerFormSubmitButton",onClick:t?function(){return Object(b.a)("login_click_".concat(e?"disabled":"enabled"),o,a)}:function(){}},C.createElement(s.a,{accessibilityLabel:i,className:"red SignupButton",disabled:e,styleOverrides:j.signupButton,type:"submit"},C.createElement("div",null,r)))}),x(S(S(u)),"renderMagicLinkButton",function(t){var e=u.props,n=e.buttonTextLabel,o=e.email,r=e.handleMagicLinkClick,i=e.magicLinkLoading,a=e.password;return C.createElement("div",{onClick:function e(){return Object(b.a)("passwordless_click_".concat(t?"disabled":"enabled"),o,a)}},C.createElement(s.a,{accessibilityLabel:n,className:"red SignupButton",disabled:t,loading:i,styleOverrides:j.signupButton,onClick:r},C.createElement(R.b,null,P.a._("Log in without password","text on button allowing users to get an email to login"))))}),u}return k(r,e),w(r,[{key:"doesEmailExist",value:function e(t){a.a.create("EmailExistsResource",{email:t}).callGet({showError:!1})}},{key:"renderLoginButtons",value:function e(){var t=this.props,n=t.email,o=t.magicLinkGroup,r=this.props.disableEmailLogin||!1,i=""!==this.props.password,a=this.renderDefaultLoginButton(r||!i,!0),s=this.renderMagicLinkButton(i||""===n);return o&&o.startsWith("enabled_login_primary")?C.createElement(R.b,null,a,s):o&&o.startsWith("enabled_magic_link_primary")?C.createElement(R.b,null,s,a):o&&o.startsWith("enabled_inactive_login")?a:this.renderDefaultLoginButton(r)}},{key:"render",value:function e(){var t=this.props,n=t.age,o=t.ageValidationError,r=t.disableEmailLogin,i=t.email,a=t.emailLabel,s=t.emailText,c=t.emailValidationError,l=t.hideEmailField,u=t.hideFacebookButton,p=t.hideGoogleButton,d=t.hidePasswordField,f=t.inputStyleOverrides,g=t.onAgeBlur,h=t.onAgeChange,b=t.onButtonClick,m=t.onEmailChange,y=t.onPasswordChange,_=t.password,w=t.passwordFieldVisible,v=t.passwordText,E=t.passwordValidationError,k=t.renderPasswordResetLink,O=t.suppressFocus,S=j.wrapperVisible;!1===w&&(S=j.wrapperHidden);var x=c;return x||!d&&!r||(u||p?!u&&p?x=P.a._("Your account is connected to Facebook - use the Facebook button to log in","Customized desktop login for users with Facebook"):u&&!p&&(x=P.a._("Your account is connected to Google - use the Google button to log in","Customized desktop login for users with Google")):x=P.a._("Your account is connected to Facebook and Google - use the buttons to log in","Customized desktop login for users with FB and Google")),C.createElement("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:function e(t){t.preventDefault(),b(t)}},!l&&C.createElement(R.b,{"data-test-id":"emailInputField"},C.createElement(L.a,{accessibilityLabel:a,autoComplete:"username",fieldsetStyleOverrides:{marginBottom:"7px"},focused:!O,hasError:!!c,domainError:this.state.domainError,id:"email",inputStyleOverrides:f,name:"id",onBlur:this.handleEmailBlur,onChange:m,placeholder:s,tooltip:x,type:"email",value:i,updateEmail:this.state.domainError?this.updateEmail:null,useExperimentalTextfield:!0,useGestalt:!0})),!d&&C.createElement(C.Fragment,null,C.createElement(R.b,{"data-test-id":"passwordInputField"},C.createElement(L.a,{autoComplete:"current-password",disabled:r,hasError:!!E,id:"password",inputStyleOverrides:T({},f,S),name:"password",onChange:y,placeholder:v,tooltip:E,type:"password",value:_,useExperimentalTextfield:!0,useGestalt:!0})),k?k():null),!d&&this.state.showAgeInput?C.createElement(R.b,{"data-test-id":"ageInputField"},C.createElement(L.a,{accessibilityLabel:"age",autoComplete:"off",dataTestId:"ageInputField",fieldsetStyleOverrides:{marginTop:"7px"},hasError:!!o,id:"age",inputStyleOverrides:T({},f),name:"age",onBlur:g,onChange:h,placeholder:P.a._("Age"),tooltip:o,type:"text",value:n,useExperimentalTextfield:!0,useGestalt:!0})):null,0<window.recaptchaCount?C.createElement("div",{id:"recaptcha_placeholder_".concat(window.recaptchaCount),className:"g-recaptcha",style:j.captcha}):null,!d&&this.renderLoginButtons())}}],[{key:"getDerivedStateFromProps",value:function e(t,n){return t.email===n.newEmail?{domainError:"",newEmail:""}:null}}]),r}(C.Component),A=t.a=Object(c.compose)(r.b,u.b)(I)},obZi:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("+B8E"),o=function e(t){var n,o=new r.c(t,"web_unauth_gplus_deprecation").enabled()
;return t.experiments._queuedResource&&t.experiments._queuedResource.flush(),o},i=o},oi15:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("d6ZO"),r=n.n(o),i=n("W/Cr"),a=n("gEaE"),s="https://help.pinterest.com/login-request?what_do_you_need_help_with=Getting+into+my+account&tell_more_account_access=Appeal+account+suspension",c=function e(){return r.a.createElement(a.t,{inline:!0,href:s},i.a._("get in touch with us","link text shown to redirect to help.pinterest.com for appealing a suspension"))}},rv2a:function(e,t,n){"use strict";var l=n("d6ZO"),o=n.n(l),u=n("gEaE"),r=function e(t){var n=t.children,o=t.description,r=t.error,i=t.id,a=t.label,s=t.required,c=t.onLabelTouch;return l.createElement(u.b,null,l.createElement(u.b,{marginBottom:1},l.createElement(u.q,{htmlFor:i},l.createElement(u.K,{color:r?"orange":"darkGray"},a,s&&l.createElement(u.K,{color:"orange",bold:!0,inline:!0},l.createElement("span",{"aria-hidden":"true"},"*"))))),n,(!!r||!!o)&&l.createElement(u.q,{htmlFor:i},l.createElement(u.b,{marginTop:1},c?l.createElement(u.O,{onTouch:c},l.createElement(u.K,{color:r?"orange":"darkGray",size:"sm"},r||o)):l.createElement(u.K,{color:r?"orange":"darkGray",size:"sm"},r||o))))};t.a=r},tvce:function(e,t,n){"use strict";t.a=i,t.b=a;var o=n("ieR2");function r(e){var n={};return e.forEach(function(e){var t=o.b.localStorage.getItem(e);t&&("signupInterestsPickerStartTime"===e?n.signupInterestsPickerTimeSpent=Date.now()-t:n[e]=t)}),JSON.stringify(n)}function i(){var e;return r(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function a(){var e;return r(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}}});