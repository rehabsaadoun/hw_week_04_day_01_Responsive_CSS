webpackJsonp([219],{fgGX:function(e,t,o){"use strict";var n=o("FqaO"),a={},i="disableUnauthGoogleOneTap";a.isGoogleOneTapDisabled=function(){return"1"===n.get(i)||n.get("fba")},a.disableGoogleOneTapDialog=function(){n.set(i,"1",168)},t.a=a},gCNx:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"FacebookTwoTap",function(){return x});var n=o("d6ZO"),u=o.n(n),a=o("DUIN"),b=o("FqaO"),p=o("gVmS"),f=o("a993"),d=o("fgGX"),_=o("W/Cr"),i=o("IaRT"),c=o.n(i),h=o("6Jd8"),g=o("85jk"),r=o("MQ2h"),l=o.n(r),s=o("kzic"),m=o("gEaE");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,o){return t&&T(e.prototype,t),o&&T(e,o),e}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?C(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function e(t,o){return t.__proto__=o,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var x=function(e){function i(){var e,n;y(this,i);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return B(C(C(n=k(this,(e=E(i)).call.apply(e,[this].concat(o))))),"state",{shouldHideFacebookTwoTap:!1,marginRight:"-300px"}),B(C(C(n)),"hideFBTwoTap",function(){n.setState({shouldHideFacebookTwoTap:!0});var e=n.props,t=e.container,o;"FB_AUTOLOGIN_AUTH_EXPIRED"===e.facebookAutoLoginStatus?Object(g.a)("web_fb_two_tap_v2.hide.user_cancel.".concat(t)):Object(g.a)("web_fb_two_tap_v1.hide.user_cancel.".concat(t))}),B(C(C(n)),"handleSocialConnectVerified",function(e,t,o){n.hideFBTwoTap(),n.props.onSocialConnectVerified&&n.props.onSocialConnectVerified(e,t,o)}),B(C(C(n)),"handleFBEmailDeniedPerm",function(){n.hideFBTwoTap(),n.props.onFBEmailDeniedPerm&&n.props.onFBEmailDeniedPerm()}),B(C(C(n)),"handlePostConnectClick",function(e){var t;"FB_AUTOLOGIN_AUTH_EXPIRED"===n.props.facebookAutoLoginStatus?Object(g.a)("web_fb_two_tap_v2.fb_connect_button_click.".concat(e)):Object(g.a)("web_fb_two_tap_v1.fb_connect_button_click.".concat(e)),n.setState({shouldHideFacebookTwoTap:!0})}),B(C(C(n)),"handlePostSuccessConnect",function(){var e;"FB_AUTOLOGIN_AUTH_EXPIRED"===n.props.facebookAutoLoginStatus?Object(g.a)("web_fb_two_tap_v2.fb_connect_success"):Object(g.a)("web_fb_two_tap_v1.fb_connect_success")}),n}return S(i,e),O(i,[{key:"componentDidMount",value:function e(){this.context.isBot||Object(g.a)("unauth_web_container.".concat(p.a.FACEBOOK_TWO_TAP,".").concat(this.context.hybridTier,".other.shown"))}},{key:"getFBLoginInStatus",value:function e(t,o){return o?"fb_auto_disabled":"FB_AUTOLOGIN_AUTH_EXPIRED"===t||"FB_AUTOLOGIN_NOT_AUTHORIZED"===t?"fb_auto_".concat(t):"fb_auto_unknown"}},{key:"getGoogleLoginInStatus",value:function e(t,o){return o?"google_auto_disabled":t?"google_auto_fail":"google_auto_unknown"}},{key:"render",value:function e(){if(this.context.isBot)return null;var t=this.props,o=t.container,n=t.facebookAutoLoginStatus,a=t.googleOneTapFail,i=this.state.shouldHideFacebookTwoTap,c=this.getFBLoginInStatus(n,!!b.get("fba")),r=this.getGoogleLoginInStatus(a,d.a.isGoogleOneTapDisabled()),l=this.state.marginRight,s="hide";return i?null:"FB_AUTOLOGIN_AUTH_EXPIRED"!==n||b.get("fba")?(Object(g.a)("web_fb_two_tap_v1.".concat(s,".").concat(c,".").concat(r,".").concat(o)),u.a.createElement(m.b,{color:"white",direction:"column",display:"flex",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px 0 rgba(0, 0, 0, 0.1)",border:"solid 1px rgba(0, 0, 0, 0.04)",transition:"margin-right 250ms cubic-bezier(0.0,0.0,0.2,1)",marginRight:l,marginTop:this.props.isShowEUCookieBar?"52px":"16px",zIndex:"700"}},padding:4,position:"fixed",right:!0,shape:"rounded",width:300,top:!0},u.a.createElement(m.b,{display:"none"},""),u.a.createElement(m.b,null,u.a.createElement(m.b,null,u.a.createElement(m.K,{bold:!0,size:"xl"},_.a._("Sign in to Pinterest with Facebook","Sign up prompt on Facebook two tap"))),u.a.createElement(m.b,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:8,right:8}}},u.a.createElement(m.o,{accessibilityLabel:_.a._("Close","accessible label for close button"),icon:"cancel",onClick:this.hideFBTwoTap,size:"xs"}))),u.a.createElement(m.b,{marginTop:1},u.a.createElement(f.b,{container:p.a.FACEBOOK_TWO_TAP,buttonText:_.a._("Continue with Facebook","Button text on facebook connect button"),onFBEmailDeniedPerm:this.handleFBEmailDeniedPerm,onSocialConnectVerified:this.handleSocialConnectVerified,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,handlePostSuccessConnect:this.handlePostSuccessConnect})),u.a.createElement(m.b,{marginTop:1},u.a.createElement(m.K,{align:"center",size:"md"},u.a.createElement(h.a,{dark:!0,large:!0,noContainer:!0}))))):(Object(g.a)("web_fb_two_tap_v2.show.".concat(c,".").concat(r,".").concat(o)),u.a.createElement(m.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.5)",WebkitBackfaceVisibility:"hidden",bottom:"0px",justifyContent:"center",position:"fixed",zIndex:"10001"}}},u.a.createElement(m.b,{display:"none"},""),u.a.createElement(m.b,{color:"white",padding:8,shape:"rounded",width:"332px"},u.a.createElement(m.b,{dangerouslySetInlineStyle:{__style:{fontSize:"24px",fontWeight:"bold",fontFamily:"HelveticaNeue",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",letterSpacing:"-0.3px",justifySelf:"center",color:"#333"}}},_.a._("We’ve missed you!","title of a popup modal which contains a facebook login in button and a not now button")),u.a.createElement(m.b,{marginTop:2},u.a.createElement(m.K,{size:"lg",overflow:"normal"},_.a._("It’s been too long since the last time you linked your Facebook account to use Pinterest. Click below to start the reunion.","Description text on a popup modal which contains a facebook login in button and a not now button"))),u.a.createElement(m.b,{marginTop:3},u.a.createElement(f.b,{container:p.a.FACEBOOK_TWO_TAP,buttonText:_.a._("Login with Facebook","Button text on facebook connect button"),onFBEmailDeniedPerm:this.handleFBEmailDeniedPerm,onSocialConnectVerified:this.handleSocialConnectVerified,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,type:"continue"})),u.a.createElement(m.b,{marginTop:1},u.a.createElement(m.c,{text:_.a._("Not now","Button text of a dismiss button on a popup modal which also contains a facebook connect button"),onClick:this.hideFBTwoTap})))))}}]),i}(n.Component),P=function e(t){return{googleOneTapFail:t.googleOneTap.googleOneTapFail,facebookAutoLoginStatus:t.facebookAutoLogin.facebookAutoLoginStatus,isShowEUCookieBar:t.euCookieBar.isShowEUCookieBar}};x.contextTypes={isBot:c.a.bool,hybridTier:c.a.string,cookies:c.a.object.isRequired},t.default=Object(r.compose)(s.withRouter,Object(a.connect)(P))(x)}});