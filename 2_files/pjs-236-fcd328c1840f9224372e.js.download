webpackJsonp([236],{x5Tu:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"UnauthBannerSignupModal",function(){return w});var i=t("d6ZO"),d=t.n(i),o=t("FqaO"),r=t("/2tF"),f=t("gVmS"),c=t("W/Cr"),a=t("85jk"),l=t("bUn+"),s=t("ok+N"),p=t("qMeI"),b=t("nU3+"),g=t("XELL"),h=t("gEaE");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(n){return typeof n}:function e(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function y(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(e){E(n,e,t[e])})}return n}function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function S(e,n){return!n||"object"!==u(n)&&"function"!=typeof n?B(e):n}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function e(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function C(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_(e,n)}function _(e,n){return(_=Object.setPrototypeOf||function e(n,t){return n.__proto__=t,n})(e,n)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v={container:{background:"rgba(0,0,0,0.65)",transition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitTransition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitBackfaceVisibility:"hidden"},visible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"block",opacity:1},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"},tieredVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex"},tieredVisibleWithScroll:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex",overflow:"scroll"},hidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0},tieredHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",visibility:"hidden",opacity:0,height:"0"},noBanner:{bottom:"0px",color:"#fff",height:"0px",position:"fixed",width:"100%"},quarterScreenBanner:{background:"rgba(85, 85, 85, 1)",bottom:"0px",color:"#fff",height:"64px",position:"fixed",width:"100%"},fullScreenBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",left:"0px",width:"100%",zIndex:"680"},title:{color:"#fff",display:"inline-block",fontSize:"24px",fontWeight:"500",verticalAlign:"middle",fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",textAlign:"left"},signupButton:{display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px",marginRight:"5px",whiteSpace:"nowrap"},LoginButton:{backgroundColor:"transparent",border:"solid 1px #ffffff",display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px"},fullPageSignup:{left:"50%",top:"50%",position:"absolute",transform:"translate(-50%, -50%)"},tieredFullPageSignup:{left:"50%",top:"50%",visibility:"visible",opacity:1,transition:"opacity 0.5s linear",margin:"auto"},tieredFullPageSignupHidden:{pointerEvents:"none",visibility:"hidden",opacity:0}},x=27,w=function(e){function n(e){var u;return m(this,n),E(B(B(u=S(this,k(n).call(this,e)))),"UNSAFE_componentWillReceiveProps",function(e){if(u.props.bannerSize!==p.a.FULL_SCREEN_BANNER&&e.bannerSize===p.a.FULL_SCREEN_BANNER&&!o.get("hasBeenShownLoginModalInOpen")){var n=u.getModalType(),t=u.props.hybridTier;Object(a.a)("unauth_web_container.".concat(f.a.INSPIRED_BANNER,".").concat(t).concat(n,".shown"))}u.props.bannerSize===p.a.FULL_SCREEN_BANNER&&e.bannerSize===p.a.QUARTER_SCREEN_BANNER&&(l.a.logLoginSignupModalView(),o.get("hasBeenShownLoginModalInOpen")||o.set("hasBeenShownLoginModalInOpen","true",b.c))}),E(B(B(u)),"getContainerStyles",function(e){switch(e){case"quarterScreenBanner":return y({},v.container,v.quarterScreenBanner);case"fullScreenBanner":return y({},v.container,v.fullScreenBanner);default:return y({},v.container,v.noBanner)}}),E(B(B(u)),"getModalType",function(){return u.props.signupSource===g.a.login?g.b.login:g.b.signupOrPersonalizedLogin}),E(B(B(u)),"handleCloseButtonClick",function(){var e=u.getModalType();Object(a.a)("unauth.authentication_modal.x_button_click.NOT_NOW_BUTTON.".concat(e)),u.props.canClose&&u.props.handleDismissSignupModal()}),E(B(B(u)),"handleCloseClick",function(){u.props.canClose&&u.props.handleDismissSignupModal()}),E(B(B(u)),"handleContentClick",function(e){e.stopPropagation()}),E(B(B(u)),"handleContentKeyDown",function(e){if(e.keyCode===x){var n=u.getModalType();Object(a.a)("unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.".concat(n))}}),E(B(B(u)),"handleEmptySpaceClick",function(){Object(a.a)("unauth.unauth_banner_signup_modal.default.empty_space_click")}),E(B(B(u)),"_handleLoginClick",function(){u.track("login"),u.props.onLoginClick()}),E(B(B(u)),"_handleSignupClick",function(){u.track("signup"),u.props.onSignupClick()}),E(B(B(u)),"track",function(e){Object(a.a)("unauth_hybrid_banner.".concat(e))}),E(B(B(u)),"shouldRenderCloseButton",function(){return u.props.canClose}),E(B(B(u)),"renderBannerDisplayText",function(){var e=u.props,n=e.bannerSize,t=e.inviter,i=c.a._("Explore more ideas with a Pinterest account","value prop on the bottom banner"),o=!t||t.is_default_image,r=t?t.full_name:"",a=t?t.image_medium_url:"",l=t?t.first_name:"";return l&&(i=c.a._("Join {{ name }} on Pinterest for more ideas","value prop on the bottom banner from sender ( {{ name }})").replace("{{ name }}",l)),t&&!o&&"quarterScreenBanner"===n?d.a.createElement(h.b,{display:"flex",justifyContent:"between",alignItems:"center"},d.a.createElement(h.b,null,d.a.createElement(h.a,{name:r,size:"md",src:a,outline:!0})),d.a.createElement(h.b,{paddingX:2}),d.a.createElement("div",{style:v.title},i)):d.a.createElement("div",{style:v.title},i)}),E(B(B(u)),"renderCloseButton",function(){return d.a.createElement("button",{"aria-label":c.a._("close","accessible label for close button"),onClick:u.handleCloseButtonClick,style:v.closeButton},d.a.createElement(h.n,{accessibilityLabel:c.a._("close","accessible label for close button"),color:"white",icon:"cancel",inline:!0}))}),E(B(B(u)),"renderLoginSignupButtons",function(){return d.a.createElement(h.b,{display:"flex",justifyContent:"between",padding:2},d.a.createElement(r.a,{className:"white",onClick:u.handleSignupClick,styleOverrides:v.signupButton},c.a._("Sign up","sign up button on the bottom banner")),d.a.createElement(r.a,{className:"darkGrey",onClick:u.handleLoginClick,styleOverrides:v.LoginButton},c.a._("Log in","Text on the button on the bottom banner that leads unauthorized users to login.")))}),E(B(B(u)),"render",function(){var e=u.props,n=e.bannerSize,t=e.fullPageSignup,i=e.inTierMarket,o=e.inviter,r=t,a=u.getContainerStyles(n),l="quarterScreenBanner"===n?v.visible:v.hidden,c="fullScreenBanner"===n?v.visible:v.hidden;i&&(l="quarterScreenBanner"===n?v.tieredVisible:v.tieredHidden,c="fullScreenBanner"===n?v.tieredVisibleWithScroll:v.tieredHidden);var s=u.getModalType(),p=v.fullPageSignup;return i&&(p="fullScreenBanner"!==n?v.tieredFullPageSignupHidden:v.tieredFullPageSignup),d.a.createElement("div",{"data-test-id":"giftWrap",style:a},d.a.createElement("div",{"data-test-id":"quarterBanner",className:"gridCentered",style:l},d.a.createElement(h.b,{display:"flex",height:64,width:"100%",alignItems:"center",justifyContent:"between"},u.renderBannerDisplayText(),u.renderLoginSignupButtons())),d.a.createElement("div",{"data-test-id":"fullBanner",style:c,onClick:u.handleEmptySpaceClick,role:"dialog"},d.a.createElement("div",{style:p,onClick:u.handleContentClick,onKeyDown:u.handleContentKeyDown,role:"dialog"},d.a.createElement(r,{toggleType:u.props.toggleType,container:f.a.INSPIRED_BANNER,darkSignupTitle:!0,handleBrandUpsellClick:u.props.handleBrandUpsellClick,handleCloseClick:u.handleCloseClick,showBrandUpsellFlyout:u.props.showBrandUpsellFlyout,signupSource:u.props.signupSource,type:s,disablePersonalizedLoginActivation:!0,inviter:o}),u.shouldRenderCloseButton()?u.renderCloseButton():null)))}),u.state={showBrandUpsellFlyout:u.props.showBrandUpsellFlyout},u.handleSignupClick=u._handleSignupClick.bind(B(B(u))),u.handleLoginClick=u._handleLoginClick.bind(B(B(u))),u}return C(n,e),n}(i.Component);n.default=Object(s.b)(w)}});